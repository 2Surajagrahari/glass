<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crafting Sign - Custom Event & Wedding Decor</title>
    <title>Crafting Sign - Custom Event & Wedding Decor</title>

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✨</text></svg>">

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>✨</text></svg>">

    <script src="https://cdn.tailwindcss.com"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=Manrope:wght@300;400;500;600;700&display=swap"
        href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@600;700&family=Manrope:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="style.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Manrope', 'sans-serif'],
                        serif: ['Cormorant Garamond', 'serif'],
                    },
                    colors: {
                        'brand-primary': '#8B4513',
                        'brand-primary-dark': '#65340F',
                        'brand-secondary': '#FAF7F2',
                        'brand-accent': '#C0A062',
                        'brand-bg': '#FFFCF7',
                        'brand-text': '#3C2F2F',
                    }
                }
            }
        }
    </script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Manrope', 'sans-serif'],
                        serif: ['Cormorant Garamond', 'serif'],
                    },
                    colors: {
                        'brand-primary': '#8B4513',
                        'brand-primary-dark': '#65340F',
                        'brand-secondary': '#FAF7F2',
                        'brand-accent': '#C0A062',
                        'brand-bg': '#FFFCF7',
                        'brand-text': '#3C2F2F',
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-brand-bg text-brand-text font-sans tracking-tight antialiased">

    <body class="bg-brand-bg text-brand-text font-sans tracking-tight antialiased">

        <div x-data="craftingSignApp" x-init="init()" x-cloak>
            <div x-data="craftingSignApp" x-init="init()" x-cloak>

                <div x-show="toast.visible" x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="opacity-0 transform translate-y-2"
                    x-transition:enter-end="opacity-100 transform translate-y-0"
                    x-transition:leave="transition ease-in duration-300"
                    x-transition:leave-start="opacity-100 transform translate-y-0"
                    x-transition:leave-end="opacity-0 transform translate-y-2"
                    class="fixed top-5 right-5 z-[101] flex items-center gap-4 rounded-lg p-4 shadow-lg"
                    :class="toast.type === 'success' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'">
                    <i class="h-6 w-6"
                        :class="toast.type === 'success' ? 'fa-solid fa-check-circle' : 'fa-solid fa-circle-exclamation'"></i>
                    <i class="h-6 w-6"
                        :class="toast.type === 'success' ? 'fa-solid fa-check-circle' : 'fa-solid fa-circle-exclamation'"></i>
                    <span x-text="toast.message"></span>
                    <button @click="toast.visible = false" class="ml-4 opacity-75 hover:opacity-100">&times;</button>
                </div>

                <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-lg shadow-sm border-b border-gray-100">
                    <nav class="container mx-auto flex items-center justify-between p-4 gap-4">
                        <header
                            class="sticky top-0 z-50 bg-white/90 backdrop-blur-lg shadow-sm border-b border-gray-100">
                            <nav class="container mx-auto flex items-center justify-between p-4 gap-4">
                                <a href="#" @click.prevent="navigate('home')"
                                    class="font-serif text-3xl font-bold text-brand-primary">Crafting Sign</a>
                                <ul class="hidden lg:flex items-center gap-8 text-sm font-medium tracking-wide">
                                    class="font-serif text-3xl font-bold text-brand-primary">Crafting Sign</a>
                                    <ul class="hidden lg:flex items-center gap-8 text-sm font-medium tracking-wide">
                                        <li><a href="#" @click.prevent="navigate('home')"
                                                class="hover:text-brand-primary transition-colors">Home</a></li>
                                        <li><a href="#" @click.prevent="navigate('shop')"
                                                class="hover:text-brand-primary transition-colors">Shop</a></li>
                                        class="hover:text-brand-primary transition-colors">Home</a></li>
                                        <li><a href="#" @click.prevent="navigate('shop')"
                                                class="hover:text-brand-primary transition-colors">Shop</a></li>
                                        <li><a href="#" @click.prevent="scrollTo('about')"
                                                class="hover:text-brand-primary transition-colors">About</a></li>
                                        class="hover:text-brand-primary transition-colors">About</a></li>
                                        <li class="relative" x-data="{ open: false }" @mouseenter="open = true"
                                            @mouseleave="open = false">
                                            <button
                                                class="flex items-center gap-1 hover:text-brand-primary transition-colors">
                                                Categories <i
                                                    class="fa-solid fa-chevron-down h-4 w-4 transition-transform"
                                                    <button
                                                    class="flex items-center gap-1 hover:text-brand-primary transition-colors">
                                                    Categories <i
                                                        class="fa-solid fa-chevron-down h-4 w-4 transition-transform"
                                                        :class="{'rotate-180': open}"></i>
                                            </button>
                                            <div x-show="open" x-transition
                                                class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-56 bg-white rounded-md shadow-lg p-2 z-50 border border-gray-100">
                                                <template x-for="category in allCategories.filter(c => c !== 'All')"
                                                    :key="category">
                                                    <a href="#"
                                                        @click.prevent="activeCategory = category; navigate('shop')"
                                                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md"
                                                        x-text="category"></a>
                                                </template>
                                                <div x-show="open" x-transition
                                                    class="absolute top-full left-1/2 -translate-x-1/2 mt-2 w-56 bg-white rounded-md shadow-lg p-2 z-50 border border-gray-100">
                                                    <template x-for="category in allCategories.filter(c => c !== 'All')"
                                                        :key="category">
                                                        <a href="#"
                                                            @click.prevent="activeCategory = category; navigate('shop')"
                                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 rounded-md"
                                                            x-text="category"></a>
                                                    </template>
                                                </div>
                                        </li>
                                        <li><a href="#" @click.prevent="scrollTo('contact')"
                                                class="hover:text-brand-primary transition-colors">Contact</a></li>
                                        <li><a href="#" @click.prevent="scrollTo('contact')"
                                                class="hover:text-brand-primary transition-colors">Contact</a></li>
                                    </ul>
                                    <div class="hidden md:block relative flex-1 max-w-xs">
                                        <input type="text" placeholder="Search for signs..."
                                            class="w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-full bg-brand-secondary/50 focus:bg-white focus:ring-1 focus:ring-brand-primary focus:border-brand-primary transition-all">
                                        <i
                                            class="fa-solid fa-search h-4 w-4 absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                                    </div>
                                    <div class="flex items-center gap-5">
                                        <div class="relative" x-data="{ open: false }">
                                            <button @click="open = !open"
                                                class="hidden sm:block text-sm font-medium text-gray-500 hover:text-brand-text"
                                                x-text="currentCurrency.code"></button>
                                            <div x-show="open" @click.away="open = false"
                                                class="absolute right-0 mt-3 w-36 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100"
                                                style="display: none;">
                                                <a href="#"
                                                    @click.prevent="currentCurrency = {code: 'INR', symbol: '₹'}; open = false"
                                                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">INR
                                                    (₹) - Rupees</a>
                                                <a href="#"
                                                    @click.prevent="currentCurrency = {code: 'USD', symbol: '$'}; open = false"
                                                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">USD
                                                    ($) - Dollar</a>
                                                <a href="#"
                                                    @click.prevent="currentCurrency = {code: 'EUR', symbol: '€'}; open = false"
                                                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">EUR
                                                    (€) - Euro</a>
                                                <a href="#"
                                                    @click.prevent="currentCurrency = {code: 'CAD', symbol: '$'}; open = false"
                                                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">CAD
                                                    ($) - Canadian</a>
                                            </div>
                                        </div>
                                        <button @click="cartOpen = true"
                                            class="relative hover:text-brand-primary transition-colors">
                                            <i class="fa-solid fa-bag-shopping h-6 w-6"></i>
                                            <span x-show="$store.cart.count > 0"
                                                class="absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-brand-primary text-xs font-bold text-white"
                                                x-text="$store.cart.count"></span>
                                            <div class="hidden md:block relative flex-1 max-w-xs">
                                                <input type="text" placeholder="Search for signs..."
                                                    class="w-full pl-10 pr-4 py-2 text-sm border border-gray-200 rounded-full bg-brand-secondary/50 focus:bg-white focus:ring-1 focus:ring-brand-primary focus:border-brand-primary transition-all">
                                                <i
                                                    class="fa-solid fa-search h-4 w-4 absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"></i>
                                            </div>
                                            <div class="flex items-center gap-5">
                                                <div class="relative" x-data="{ open: false }">
                                                    <button @click="open = !open"
                                                        class="hidden sm:block text-sm font-medium text-gray-500 hover:text-brand-text"
                                                        x-text="currentCurrency.code"></button>
                                                    <div x-show="open" @click.away="open = false"
                                                        class="absolute right-0 mt-3 w-36 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100"
                                                        style="display: none;">
                                                        <a href="#"
                                                            @click.prevent="currentCurrency = {code: 'INR', symbol: '₹'}; open = false"
                                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">INR
                                                            (₹) - Rupees</a>
                                                        <a href="#"
                                                            @click.prevent="currentCurrency = {code: 'USD', symbol: '$'}; open = false"
                                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">USD
                                                            ($) - Dollar</a>
                                                        <a href="#"
                                                            @click.prevent="currentCurrency = {code: 'EUR', symbol: '€'}; open = false"
                                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">EUR
                                                            (€) - Euro</a>
                                                        <a href="#"
                                                            @click.prevent="currentCurrency = {code: 'CAD', symbol: '$'}; open = false"
                                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">CAD
                                                            ($) - Canadian</a>
                                                    </div>
                                                </div>
                                                <button @click="cartOpen = true"
                                                    class="relative hover:text-brand-primary transition-colors">
                                                    <i class="fa-solid fa-bag-shopping h-6 w-6"></i>
                                                    <span x-show="$store.cart.count > 0"
                                                        class="absolute -top-2 -right-2 flex h-5 w-5 items-center justify-center rounded-full bg-brand-primary text-xs font-bold text-white"
                                                        x-text="$store.cart.count"></span>
                                                </button>
                                                <template x-if="!$store.auth.user">
                                                    <template x-if="!$store.auth.user">
                                                        <button @click="navigate('login')"
                                                            class="hidden md:inline-block px-5 py-2 text-sm font-semibold rounded-full border border-brand-primary text-brand-primary hover:bg-brand-primary hover:text-white transition-all">Login</button>
                                                        class="hidden md:inline-block px-5 py-2 text-sm font-semibold
                                                        rounded-full border border-brand-primary text-brand-primary
                                                        hover:bg-brand-primary hover:text-white transition-all">Login
                                        </button>
                                        </template>
                                        <template x-if="$store.auth.user">
                                            <template x-if="$store.auth.user">
                                                <div class="relative" x-data="{ dropdownOpen: false }">
                                                    <button @click="dropdownOpen = !dropdownOpen"
                                                        class="flex items-center gap-2">
                                                        <img src="https://picsum.photos/40/40?random=200" alt="avatar"
                                                            class="h-8 w-8 rounded-full border-2 border-brand-primary/50 object-cover">
                                                        <img src="https://picsum.photos/40/40?random=200" alt="avatar"
                                                            class="h-8 w-8 rounded-full border-2 border-brand-primary/50 object-cover">
                                                    </button>
                                                    <div x-show="dropdownOpen" @click.away="dropdownOpen = false"
                                                        class="absolute right-0 mt-3 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-100">
                                                        <div class="px-4 py-2 border-b">
                                                            <p class="text-sm font-medium text-brand-text"
                                                                x-text="$store.auth.user.name"></p>
                                                            <p class="text-xs text-gray-500"
                                                                x-text="$store.auth.user.email"></p>
                                                        </div>
                                                        <a href="#"
                                                            @click.prevent="navigate('account'); dropdownOpen = false"
                                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">My
                                                            Account</a>
                                                        <template x-if="$store.auth.user.role === 'admin'">
                                                            class="absolute right-0 mt-3 w-48 bg-white rounded-md
                                                            shadow-lg py-1 z-50 border border-gray-100">
                                                            <div class="px-4 py-2 border-b">
                                                                <p class="text-sm font-medium text-brand-text"
                                                                    x-text="$store.auth.user.name"></p>
                                                                <p class="text-xs text-gray-500"
                                                                    x-text="$store.auth.user.email"></p>
                                                            </div>
                                                            <a href="#"
                                                                @click.prevent="navigate('account'); dropdownOpen = false"
                                                                class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">My
                                                                Account</a>
                                                            <template x-if="$store.auth.user.role === 'admin'">
                                                                <a href="#"
                                                                    @click.prevent="navigate('admin'); dropdownOpen = false"
                                                                    class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50">Admin
                                                                    Panel</a>
                                                                class="block px-4 py-2 text-sm text-gray-700
                                                                hover:bg-gray-50">Admin Panel</a>
                                                            </template>
                                                            <a href="#"
                                                                @click.prevent="$store.auth.logout(); dropdownOpen = false;"
                                                                class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50">Logout</a>
                                                            <a href="#"
                                                                @click.prevent="$store.auth.logout(); dropdownOpen = false;"
                                                                class="block px-4 py-2 text-sm text-red-600 hover:bg-red-50">Logout</a>
                                                    </div>
                                                </div>
                                            </template>
                                            <button @click="mobileMenuOpen = true" class="lg:hidden">
                                                <i class="fa-solid fa-bars h-6 w-6"></i>
                                                <button @click="mobileMenuOpen = true" class="lg:hidden">
                                                    <i class="fa-solid fa-bars h-6 w-6"></i>
                                                </button>
                                    </div>
                            </nav>
                        </header>

                        <div x-show="mobileMenuOpen" x-transition:enter="transition ease-out duration-300"
                            x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
                            x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100"
                            x-transition:leave-end="opacity-0" class="fixed inset-0 bg-black/50 z-[98]"
                            @click="mobileMenuOpen = false" style="display: none;"></div>

                        <div x-show="mobileMenuOpen" x-transition:enter="transition ease-out duration-300"
                            x-transition:enter-start="transform translate-x-full"
                            x-transition:enter-end="transform translate-x-0"
                            x-transition:leave="transition ease-in duration-300"
                            x-transition:leave-start="transform translate-x-0"
                            x-transition:leave-end="transform translate-x-full"
                            class="fixed top-0 right-0 h-full w-full max-w-sm bg-brand-bg z-[99] shadow-2xl p-6 flex flex-col overflow-y-auto"
                            style="display: none;">

                            <div class="flex items-center justify-between mb-10">
                                <h3 class="font-serif text-2xl font-bold text-brand-primary">Menu</h3>
                                <button @click="mobileMenuOpen = false" class="text-gray-500 hover:text-brand-primary">
                                    <i class="fa-solid fa-xmark h-6 w-6"></i>
                                </button>
                            </div>

                            <ul class="flex flex-col text-lg font-medium divide-y divide-gray-200">
                                <li><a href="#" @click.prevent="navigate('home'); mobileMenuOpen=false"
                                        class="block py-4 hover:text-brand-primary transition-colors">Home</a></li>
                                <li><a href="#" @click.prevent="navigate('shop'); mobileMenuOpen=false"
                                        class="block py-4 hover:text-brand-primary transition-colors">Shop</a></li>

                                <li x-data="{ open: false }">
                                    <button @click="open = !open"
                                        class="w-full flex justify-between items-center py-4 hover:text-brand-primary transition-colors">
                                        <span>Categories</span>
                                        <i class="fa-solid fa-chevron-down h-4 w-4 transition-transform"
                                            :class="{'rotate-180': open}"></i>
                                    </button>
                                    <div x-show="open" x-transition class="pl-4 pb-2 text-sm font-normal text-gray-600">
                                        <template x-for="category in allCategories.filter(c => c !== 'All')"
                                            :key="category">
                                            <a href="#"
                                                @click.prevent="activeCategory = category; navigate('shop'); mobileMenuOpen=false"
                                                class="block py-2 hover:text-brand-primary" x-text="category"></a>
                                        </template>
                                    </div>
                                </li>

                                <li><a href="#" @click.prevent="scrollTo('about'); mobileMenuOpen=false"
                                        class="block py-4 hover:text-brand-primary transition-colors">About</a></li>
                                <li><a href="#" @click.prevent="scrollTo('contact'); mobileMenuOpen=false"
                                        class="block py-4 hover:text-brand-primary transition-colors">Contact</a></li>
                            </ul>

                            <div class="mt-auto pt-6">
                                <template x-if="!$store.auth.user">
                                    <a href="#" @click.prevent="navigate('login'); mobileMenuOpen=false"
                                        class="block w-full text-center px-5 py-3 rounded-full bg-brand-primary text-white font-semibold">Login
                                        / Register</a>
                                </template>
                                <template x-if="$store.auth.user">
                                    <a href="#" @click.prevent="navigate('account'); mobileMenuOpen=false"
                                        class="block w-full text-center px-5 py-3 rounded-full border border-brand-primary text-brand-primary font-semibold">My
                                        Account</a>
                                </template>
                </header>

                <div x-show="mobileMenuOpen" x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
                    x-transition:leave="transition ease-in duration-300" x-transition:leave-start="opacity-100"
                    x-transition:leave-end="opacity-0" class="fixed inset-0 bg-black/50 z-[98]"
                    @click="mobileMenuOpen = false" style="display: none;"></div>

                <div x-show="mobileMenuOpen" x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="transform translate-x-full"
                    x-transition:enter-end="transform translate-x-0"
                    x-transition:leave="transition ease-in duration-300"
                    x-transition:leave-start="transform translate-x-0"
                    x-transition:leave-end="transform translate-x-full"
                    class="fixed top-0 right-0 h-full w-full max-w-sm bg-brand-bg z-[99] shadow-2xl p-6 flex flex-col overflow-y-auto"
                    style="display: none;">

                    <div class="flex items-center justify-between mb-10">
                        <h3 class="font-serif text-2xl font-bold text-brand-primary">Menu</h3>
                        <button @click="mobileMenuOpen = false" class="text-gray-500 hover:text-brand-primary">
                            <i class="fa-solid fa-xmark h-6 w-6"></i>
                        </button>
                    </div>

                    <ul class="flex flex-col text-lg font-medium divide-y divide-gray-200">
                        <li><a href="#" @click.prevent="navigate('home'); mobileMenuOpen=false"
                                class="block py-4 hover:text-brand-primary transition-colors">Home</a></li>
                        <li><a href="#" @click.prevent="navigate('shop'); mobileMenuOpen=false"
                                class="block py-4 hover:text-brand-primary transition-colors">Shop</a></li>

                        <li x-data="{ open: false }">
                            <button @click="open = !open"
                                class="w-full flex justify-between items-center py-4 hover:text-brand-primary transition-colors">
                                <span>Categories</span>
                                <i class="fa-solid fa-chevron-down h-4 w-4 transition-transform"
                                    :class="{'rotate-180': open}"></i>
                            </button>
                            <div x-show="open" x-transition class="pl-4 pb-2 text-sm font-normal text-gray-600">
                                <template x-for="category in allCategories.filter(c => c !== 'All')" :key="category">
                                    <a href="#"
                                        @click.prevent="activeCategory = category; navigate('shop'); mobileMenuOpen=false"
                                        class="block py-2 hover:text-brand-primary" x-text="category"></a>
                                </template>
                            </div>
                        </li>

                        <li><a href="#" @click.prevent="scrollTo('about'); mobileMenuOpen=false"
                                class="block py-4 hover:text-brand-primary transition-colors">About</a></li>
                        <li><a href="#" @click.prevent="scrollTo('contact'); mobileMenuOpen=false"
                                class="block py-4 hover:text-brand-primary transition-colors">Contact</a></li>
                    </ul>

                    <div class="mt-auto pt-6">
                        <template x-if="!$store.auth.user">
                            <a href="#" @click.prevent="navigate('login'); mobileMenuOpen=false"
                                class="block w-full text-center px-5 py-3 rounded-full bg-brand-primary text-white font-semibold">Login
                                / Register</a>
                        </template>
                        <template x-if="$store.auth.user">
                            <a href="#" @click.prevent="navigate('account'); mobileMenuOpen=false"
                                class="block w-full text-center px-5 py-3 rounded-full border border-brand-primary text-brand-primary font-semibold">My
                                Account</a>
                        </template>
                    </div>
                </div>
            </div>


            <main>
                <div x-show="view === 'home'">
                    <section class="relative h-[70vh] md:h-[90vh] text-center overflow-hidden text-white">
                        <div x-show="view === 'home'">
                            <section class="relative h-[70vh] md:h-[90vh] text-center overflow-hidden text-white">
                                <template x-for="(slide, index) in heroSlides" :key="index">
                                    <div x-show="currentSlide === index"
                                        class="absolute inset-0 w-full h-full transition-opacity duration-1000 ease-in-out"
                                        <div x-show="currentSlide === index"
                                        class="absolute inset-0 w-full h-full transition-opacity duration-1000 ease-in-out"
                                        x-transition:enter="transition-opacity ease-in-out duration-1000"
                                        x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
                                        x-transition:leave="transition-opacity ease-in-out duration-1000"
                                        x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0">
                                        <div class="absolute inset-0 bg-cover bg-center hero-slide-image"
                                            :style="`background-image: url('${slide.image}')`"></div>
                                        <div class="absolute inset-0 bg-black/50"></div>
                                        <div class="absolute inset-0 bg-cover bg-center hero-slide-image"
                                            :style="`background-image: url('${slide.image}')`"></div>
                                        <div class="absolute inset-0 bg-black/50"></div>
                                    </div>
                                </template>
                                <div
                                    class="relative h-full flex flex-col items-center justify-center container mx-auto px-4 z-10">
                                    <h1 class="font-serif text-5xl md:text-7xl font-bold mb-4 leading-tight" <h1
                                        class="font-serif text-5xl md:text-7xl font-bold mb-4 leading-tight"
                                        x-text="heroSlides[currentSlide].title"></h1>
                                    <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto opacity-90"
                                        x-text="heroSlides[currentSlide].subtitle"></p>
                                    <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto opacity-90"
                                        x-text="heroSlides[currentSlide].subtitle"></p>
                                    <a href="#products" @click.prevent="scrollTo('products')"
                                        class="bg-white text-brand-primary font-semibold px-10 py-3 rounded-full shadow-lg hover:bg-gray-100 transition-all transform hover:scale-105"
                                        class="bg-white text-brand-primary font-semibold px-10 py-3 rounded-full shadow-lg hover:bg-gray-100 transition-all transform hover:scale-105"
                                        x-text="heroSlides[currentSlide].buttonText"></a>
                                </div>
                            </section>

                            <section class="bg-brand-secondary py-16">
                                <div
                                    class="container mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10">
                                    <div class="flex items-center gap-4" data-aos="fade-up">
                                        <i class="fa-solid fa-truck h-10 w-10 text-brand-primary"></i>
                                        <section class="bg-brand-secondary py-16">
                                            <div
                                                class="container mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-10">
                                                <div class="flex items-center gap-4" data-aos="fade-up">
                                                    <i class="fa-solid fa-truck h-10 w-10 text-brand-primary"></i>
                                                    <div>
                                                        <h3 class="font-semibold text-lg">Worldwide Shipping</h3>
                                                        <p class="text-sm text-gray-600">Secure shipping to your door
                                                        </p>
                                                        <h3 class="font-semibold text-lg">Worldwide Shipping</h3>
                                                        <p class="text-sm text-gray-600">Secure shipping to your door
                                                        </p>
                                                    </div>
                                                </div>
                                                <div class="flex items-center gap-4" data-aos="fade-up"
                                                    data-aos-delay="100">
                                                    <i class="fa-solid fa-gem h-10 w-10 text-brand-primary"></i>
                                                    <div class="flex items-center gap-4" data-aos="fade-up"
                                                        data-aos-delay="100">
                                                        <i class="fa-solid fa-gem h-10 w-10 text-brand-primary"></i>
                                                        <div>
                                                            <h3 class="font-semibold text-lg">Premium Materials</h3>
                                                            <p class="text-sm text-gray-600">High-quality acrylic & inks
                                                            </p>
                                                            <h3 class="font-semibold text-lg">Premium Materials</h3>
                                                            <p class="text-sm text-gray-600">High-quality acrylic & inks
                                                            </p>
                                                        </div>
                                                    </div>
                                                    <div class="flex items-center gap-4" data-aos="fade-up"
                                                        data-aos-delay="200">
                                                        <i class="fa-solid fa-leaf h-10 w-10 text-brand-primary"></i>
                                                        <div class="flex items-center gap-4" data-aos="fade-up"
                                                            data-aos-delay="200">
                                                            <i
                                                                class="fa-solid fa-leaf h-10 w-10 text-brand-primary"></i>
                                                            <div>
                                                                <h3 class="font-semibold text-lg">Handmade with Love
                                                                </h3>
                                                                <p class="text-sm text-gray-600">Crafted with precision
                                                                </p>
                                                                <h3 class="font-semibold text-lg">Handmade with Love
                                                                </h3>
                                                                <p class="text-sm text-gray-600">Crafted with precision
                                                                </p>
                                                            </div>
                                                        </div>
                                                        <div class="flex items-center gap-4" data-aos="fade-up"
                                                            data-aos-delay="300">
                                                            <i
                                                                class="fa-solid fa-message h-10 w-10 text-brand-primary"></i>
                                                            <div class="flex items-center gap-4" data-aos="fade-up"
                                                                data-aos-delay="300">
                                                                <i
                                                                    class="fa-solid fa-message h-10 w-10 text-brand-primary"></i>
                                                                <div>
                                                                    <h3 class="font-semibold text-lg">Custom Designs
                                                                    </h3>
                                                                    <p class="text-sm text-gray-600">Personalized for
                                                                        your event</p>
                                                                    <h3 class="font-semibold text-lg">Custom Designs
                                                                    </h3>
                                                                    <p class="text-sm text-gray-600">Personalized for
                                                                        your event</p>
                                                                </div>
                                                            </div>
                                                        </div>
                                        </section>

                                        <section id="gallery" class="py-20 md:py-28">
                                            <section id="gallery" class="py-20 md:py-28">
                                                <div class="container mx-auto px-4">
                                                    <h2 class="font-serif text-4xl md:text-5xl font-bold text-center mb-16"
                                                        data-aos="fade-up">
                                                        Featured Gallery</h2>
                                                    <div class="swiper featured-gallery" x-init="initSwiper()"
                                                        data-aos="fade-up" data-aos-delay="100">
                                                        <div class="swiper-wrapper">
                                                            <template x-for="product in products.slice(0, 10)"
                                                                :key="product._id">
                                                                <div class="swiper-slide">
                                                                    <div @click="openQuickViewModal(product)"
                                                                        class="group relative overflow-hidden rounded-lg cursor-pointer shadow-sm hover:shadow-xl transition-shadow duration-300 aspect-square">
                                                                        <img class="h-full w-full object-cover group-hover:scale-105 transition-transform duration-300"
                                                                            :src="product.images[0]"
                                                                            :alt="product.name">
                                                                        <div
                                                                            class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4">
                                                                            <p class="text-white text-sm font-medium"
                                                                                x-text="product.name"></p>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </template>
                                                        </div>
                                                        <div class="swiper-pagination"></div>
                                                        <div class="swiper-button-next"></div>
                                                        <div class="swiper-button-prev"></div>
                                                        <div class="swiper-pagination"></div>
                                                        <div class="swiper-button-next"></div>
                                                        <div class="swiper-button-prev"></div>
                                                    </div>
                                                </div>
                                            </section>

                                            <section id="about" class="py-20 md:py-28 bg-white">
                                                <div
                                                    class="container mx-auto px-4 grid md:grid-cols-2 gap-16 items-center">
                                                    <div data-aos="fade-right">
                                                        <h2
                                                            class="font-serif text-4xl md:text-5xl font-bold mb-6 leading-tight">
                                                            Where Creativity
                                                            Meets Celebration</h2>
                                                        <p class="mb-6 text-gray-600 leading-relaxed">Welcome to
                                                            Crafting Sign! We specialize in
                                                            designing and crafting custom acrylic welcome signs, seating
                                                            charts, wedding boards, and
                                                            event décor that make your moments truly memorable.</p>
                                                        <p class="text-gray-600 leading-relaxed mb-4">Each product is
                                                            handmade with love and
                                                            precision, using high-quality materials to ensure a premium
                                                            look that lasts.
                                                            Whether you’re hosting a wedding, birthday, baby shower, or
                                                            corporate event — our signs
                                                            add a personal and elegant touch to every occasion.</p>
                                                        <p class="text-gray-600 leading-relaxed mb-8">At Crafting Sign,
                                                            we believe that every event
                                                            deserves something beautiful and meaningful. That’s why we
                                                            offer worldwide shipping,
                                                            custom designs, and friendly customer support to help you
                                                            create exactly what you
                                                            imagine.</p>
                                                        <a href="#" @click.prevent="scrollTo('contact')"
                                                            class="inline-block bg-brand-primary text-white font-semibold px-8 py-3 rounded-full hover:bg-brand-primary-dark transition-colors">Contact
                                                            Us</a>
                                                        <section id="about" class="py-20 md:py-28 bg-white">
                                                            <div
                                                                class="container mx-auto px-4 grid md:grid-cols-2 gap-16 items-center">
                                                                <div data-aos="fade-right">
                                                                    <h2
                                                                        class="font-serif text-4xl md:text-5xl font-bold mb-6 leading-tight">
                                                                        Where Creativity
                                                                        Meets Celebration</h2>
                                                                    <p class="mb-6 text-gray-600 leading-relaxed">
                                                                        Welcome to Crafting Sign! We specialize in
                                                                        designing and crafting custom acrylic welcome
                                                                        signs, seating charts, wedding boards, and
                                                                        event décor that make your moments truly
                                                                        memorable.</p>
                                                                    <p class="text-gray-600 leading-relaxed mb-4">Each
                                                                        product is handmade with love and
                                                                        precision, using high-quality materials to
                                                                        ensure a premium look that lasts.
                                                                        Whether you’re hosting a wedding, birthday, baby
                                                                        shower, or corporate event — our signs
                                                                        add a personal and elegant touch to every
                                                                        occasion.</p>
                                                                    <p class="text-gray-600 leading-relaxed mb-8">At
                                                                        Crafting Sign, we believe that every event
                                                                        deserves something beautiful and meaningful.
                                                                        That’s why we offer worldwide shipping,
                                                                        custom designs, and friendly customer support to
                                                                        help you create exactly what you
                                                                        imagine.</p>
                                                                    <a href="#" @click.prevent="scrollTo('contact')"
                                                                        class="inline-block bg-brand-primary text-white font-semibold px-8 py-3 rounded-full hover:bg-brand-primary-dark transition-colors">Contact
                                                                        Us</a>
                                                                </div>
                                                                <div class="rounded-lg overflow-hidden shadow-xl"
                                                                    data-aos="fade-left">
                                                                    <img src="https://picsum.photos/600/700?random=104"
                                                                        alt="Crafting station with acrylic signs"
                                                                        class="w-full h-full object-cover">
                                                                    <div class="rounded-lg overflow-hidden shadow-xl"
                                                                        data-aos="fade-left">
                                                                        <img src="https://picsum.photos/600/700?random=104"
                                                                            alt="Crafting station with acrylic signs"
                                                                            class="w-full h-full object-cover">
                                                                    </div>
                                                                </div>
                                                        </section>

                                                        <section id="products" class="py-20 md:py-28">
                                                            <section id="products" class="py-20 md:py-28">
                                                                <div class="container mx-auto px-4">
                                                                    <h2 class="font-serif text-4xl md:text-5xl font-bold text-center mb-16"
                                                                        data-aos="fade-up">Our
                                                                        Collections</h2>
                                                                    <div
                                                                        class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10">
                                                                        <template
                                                                            x-for="(product, index) in products.slice(0, 6)"
                                                                            :key="product._id">
                                                                            <div @click="viewProduct(product)"
                                                                                class="cursor-pointer bg-white rounded-lg shadow-md overflow-hidden group transition-all transform hover:shadow-xl hover:-translate-y-2 flex flex-col"
                                                                                data-aos="fade-up"
                                                                                :data-aos-delay="index * 100">
                                                                                <div
                                                                                    class="relative h-72 overflow-hidden">
                                                                                    <img :src="product.images[0]"
                                                                                        :alt="product.name"
                                                                                        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                                                                                    <button
                                                                                        @click.stop="openQuickViewModal(product)"
                                                                                        class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/90 text-brand-text px-4 py-2 rounded-full text-xs font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap hover:bg-white">
                                                                                        Quick View
                                                                                    </button>
                                                                                    class="cursor-pointer bg-white
                                                                                    rounded-lg shadow-md overflow-hidden
                                                                                    group transition-all transform
                                                                                    hover:shadow-xl hover:-translate-y-2
                                                                                    flex flex-col"
                                                                                    data-aos="fade-up"
                                                                                    :data-aos-delay="index * 100">
                                                                                    <div
                                                                                        class="relative h-72 overflow-hidden">
                                                                                        <img :src="product.images[0]"
                                                                                            :alt="product.name"
                                                                                            class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                                                                                        <button
                                                                                            @click.stop="openQuickViewModal(product)"
                                                                                            class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/90 text-brand-text px-4 py-2 rounded-full text-xs font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap hover:bg-white">
                                                                                            Quick View
                                                                                        </button>
                                                                                    </div>
                                                                                    <div
                                                                                        class="p-6 flex flex-col flex-grow">
                                                                                        <h3 class="text-xl font-semibold mb-2 leading-tight"
                                                                                            x-text="product.name"></h3>
                                                                                        <p class="text-gray-500 text-xs mb-3 uppercase tracking-wider"
                                                                                            x-text="product.category">
                                                                                        </p>
                                                                                        <p class="text-2xl font-serif text-brand-primary mb-4 mt-auto"
                                                                                            x-text="formatCurrency(product.price)">
                                                                                        </p>

                                                                                        <div
                                                                                            class="flex items-center gap-3 mt-2">
                                                                                            <button
                                                                                                @click="viewProduct(product)"
                                                                                                class="flex-1 text-center bg-brand-primary text-white font-semibold py-2.5 rounded-full hover:bg-brand-primary-dark transition-colors">
                                                                                                View Details
                                                                                            </button>
                                                                                            <button
                                                                                                @click.stop="loginGate(() => { $store.cart.add(product, 1, product.options ? Object.fromEntries(product.options.map(opt => [opt.name, opt.values[0]])) : {}); showToast(`${product.name} added to cart!`, 'success') })"
                                                                                                title="Add to Cart"
                                                                                                class="flex-shrink-0 p-3 bg-brand-secondary text-brand-primary rounded-full hover:bg-gray-200 transition-colors">
                                                                                                <i
                                                                                                    class="fa-solid fa-bag-shopping h-5 w-5"></i>
                                                                                            </button>
                                                                                        </div>
                                                                                        <div
                                                                                            class="p-6 flex flex-col flex-grow">
                                                                                            <h3 class="text-xl font-semibold mb-2 leading-tight"
                                                                                                x-text="product.name">
                                                                                            </h3>
                                                                                            <p class="text-gray-500 text-xs mb-3 uppercase tracking-wider"
                                                                                                x-text="product.category">
                                                                                            </p>
                                                                                            <p class="text-2xl font-serif text-brand-primary mb-4 mt-auto"
                                                                                                x-text="formatCurrency(product.price)">
                                                                                            </p>

                                                                                            <div
                                                                                                class="flex items-center gap-3 mt-2">
                                                                                                <button
                                                                                                    @click="viewProduct(product)"
                                                                                                    class="flex-1 text-center bg-brand-primary text-white font-semibold py-2.5 rounded-full hover:bg-brand-primary-dark transition-colors">
                                                                                                    View Details
                                                                                                </button>
                                                                                                <button
                                                                                                    @click.stop="loginGate(() => { $store.cart.add(product, 1, product.options ? Object.fromEntries(product.options.map(opt => [opt.name, opt.values[0]])) : {}); showToast(`${product.name} added to cart!`, 'success') })"
                                                                                                    title="Add to Cart"
                                                                                                    class="flex-shrink-0 p-3 bg-brand-secondary text-brand-primary rounded-full hover:bg-gray-200 transition-colors">
                                                                                                    <i
                                                                                                        class="fa-solid fa-bag-shopping h-5 w-5"></i>
                                                                                                </button>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                        </template>
                                                                    </div>

                                                                    <div class="text-center mt-16">
                                                                        <button @click="navigate('shop')"
                                                                            class="bg-brand-primary text-white font-semibold px-10 py-3 rounded-full hover:bg-brand-primary-dark transition-colors shadow-lg transform hover:scale-105">
                                                                            View All Products
                                                                        </button>
                                                                    </div>


                                                                    <div class="text-center mt-16">
                                                                        <button @click="navigate('shop')"
                                                                            class="bg-brand-primary text-white font-semibold px-10 py-3 rounded-full hover:bg-brand-primary-dark transition-colors shadow-lg transform hover:scale-105">
                                                                            View All Products
                                                                        </button>
                                                                    </div>

                                                                </div>
                                                            </section>

                                                            <section id="contact"
                                                                class="py-20 md:py-28 bg-brand-secondary">
                                                                <div class="container mx-auto px-4 text-center"
                                                                    data-aos="fade-up">
                                                                    <i
                                                                        class="fa-solid fa-wand-magic-sparkles h-12 w-12 mx-auto text-brand-primary mb-4"></i>
                                                                    <h2
                                                                        class="font-serif text-4xl md:text-5xl font-bold mb-4">
                                                                        Have an idea in mind?</h2>
                                                                    <p
                                                                        class="text-gray-600 mb-10 max-w-2xl mx-auto leading-relaxed">
                                                                        Let's make it real. Commission
                                                                        a custom sign tailored perfectly to your event
                                                                        and style. Let's bring your
                                                                        artistic vision to life together.</p>
                                                                    <a href="mailto:contact@craftingsign.com"
                                                                        class="inline-block bg-brand-primary text-white font-semibold px-10 py-3 rounded-full hover:bg-brand-primary-dark transition-colors shadow-lg transform hover:scale-105">Request
                                                                        a Custom Order</a>
                                                                </div>
                                                            </section>

                                                    </div>

                                                    <div x-show="view === 'shop'" class="min-h-screen bg-white pt-20"
                                                        style="display: none;">
                                                        <div class="container mx-auto p-4 md:p-8">
                                                            <div class="pt-12 text-center mb-12">
                                                                <h1 class="font-serif text-5xl font-bold">Shop All
                                                                    Collections</h1>
                                                                <p class="text-lg text-gray-600 mt-2">Find the perfect
                                                                    piece for your celebration.</p>
                                                            </div>

                                                            <div
                                                                class="lg:hidden sticky top-16 z-30 bg-white/90 backdrop-blur-md border-b border-gray-200 -mx-4 px-4">
                                                                <div class="flex items-center justify-between h-16">
                                                                    <button @click="filterMenuOpen = true"
                                                                        class="flex items-center gap-2 text-brand-text font-medium">
                                                                        <i
                                                                            class="fa-solid fa-filter h-4 w-4 text-gray-500"></i>
                                                                        <span>Filters</span>
                                                                    </button>

                                                                    <div class="flex items-center gap-2">
                                                                        <label for="sort-mobile"
                                                                            class="text-sm font-medium">Sort:</label>
                                                                        <select x-model="sortBy" id="sort-mobile"
                                                                            class="text-sm bg-transparent border-none focus:ring-0 p-0 pr-6 text-brand-text font-medium">
                                                                            <option value="default">Default</option>
                                                                            <option value="price-asc">Price: Low to High
                                                                            </option>
                                                                            <option value="price-desc">Price: High to
                                                                                Low</option>
                                                                            <option value="name-asc">Name: A to Z
                                                                            </option>
                                                                            <option value="name-desc">Name: Z to A
                                                                            </option>
                                                                        </select>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="grid grid-cols-1 lg:grid-cols-4 gap-8 pt-8">
                                                                <aside
                                                                    class="hidden lg:block col-span-1 bg-brand-bg/50 p-6 rounded-lg shadow-sm border border-gray-200 h-min lg:sticky top-28">
                                                                    <h3
                                                                        class="font-serif text-2xl font-semibold mb-6 border-b pb-3">
                                                                        Filters</h3>

                                                                    <div>
                                                                        <h4 class="font-semibold mb-3 text-brand-text">
                                                                            Category</h4>
                                                                        <div class="space-y-2">
                                                                            <label
                                                                                class="flex items-center text-sm text-gray-600 hover:text-brand-primary cursor-pointer">
                                                                                <input type="radio"
                                                                                    x-model="activeCategory" value="All"
                                                                                    name="category-desktop"
                                                                                    class="h-4 w-4 text-brand-primary border-gray-300 focus:ring-brand-primary/50">
                                                                                <span class="ml-3">All Categories</span>
                                                                            </label>
                                                                            <template
                                                                                x-for="category in allCategories.filter(c => c !== 'All')"
                                                                                :key="category">
                                                                                <label
                                                                                    class="flex items-center text-sm text-gray-600 hover:text-brand-primary cursor-pointer">
                                                                                    <input type="radio"
                                                                                        x-model="activeCategory"
                                                                                        :value="category"
                                                                                        name="category-desktop"
                                                                                        class="h-4 w-4 text-brand-primary border-gray-300 focus:ring-brand-primary/50">
                                                                                    <span class="ml-3"
                                                                                        x-text="category"></span>
                                                                                </label>
                                                                            </template>
                                                                        </div>
                                                                    </div>
                                                                </aside>

                                                                <div class="col-span-1 lg:col-span-3">
                                                                    <div class="hidden lg:flex justify-end mb-6">
                                                                        <div class="flex items-center gap-2">
                                                                            <label for="sort-desktop"
                                                                                class="text-sm font-medium text-gray-600">Sort
                                                                                By:</label>
                                                                            <select x-model="sortBy" id="sort-desktop"
                                                                                class="w-48 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-1 focus:ring-brand-primary/50 focus:border-brand-primary transition p-2 text-sm">
                                                                                <option value="default">Default</option>
                                                                                <option value="price-asc">Price: Low to
                                                                                    High</option>
                                                                                <option value="price-desc">Price: High
                                                                                    to Low</option>
                                                                                <option value="name-asc">Name: A to Z
                                                                                </option>
                                                                                <option value="name-desc">Name: Z to A
                                                                                </option>
                                                                            </select>
                                                                        </div>
                                                                    </div>

                                                                    <div
                                                                        class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-8">
                                                                        <template
                                                                            x-for="(product, index) in filteredProducts"
                                                                            :key="product._id">
                                                                            <div @click="viewProduct(product)"
                                                                                class="cursor-pointer bg-white rounded-lg shadow-md overflow-hidden group transition-all transform hover:shadow-xl hover:-translate-y-2 flex flex-col"
                                                                                data-aos="fade-up"
                                                                                :data-aos-delay="index * 50">
                                                                                <div
                                                                                    class="relative h-72 overflow-hidden">
                                                                                    <img :src="product.images[0]"
                                                                                        :alt="product.name"
                                                                                        class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                                                                                    <button
                                                                                        @click.stop="openQuickViewModal(product)"
                                                                                        class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/90 text-brand-text px-4 py-2 rounded-full text-xs font-semibold opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap hover:bg-white">
                                                                                        Quick View
                                                                                    </button>
                                                                                </div>
                                                                                <div
                                                                                    class="p-6 flex flex-col flex-grow">
                                                                                    <h3 class="text-xl font-semibold mb-2 leading-tight"
                                                                                        x-text="product.name">
                                                                                    </h3>
                                                                                    <p class="text-gray-500 text-xs mb-3 uppercase tracking-wider"
                                                                                        x-text="product.category"></p>
                                                                                    <p class="text-2xl font-serif text-brand-primary mb-4 mt-auto"
                                                                                        x-text="formatCurrency(product.price)">
                                                                                    </p>
                                                                                    <div
                                                                                        class="flex items-center gap-3 mt-2">
                                                                                        <button
                                                                                            @click.stop="viewProduct(product)"
                                                                                            class="flex-1 text-center bg-brand-primary text-white font-semibold py-2.5 rounded-full hover:bg-brand-primary-dark transition-colors">
                                                                                            View Details
                                                                                        </button>
                                                                                        <button
                                                                                            @click.stop="loginGate(() => { $store.cart.add(product, 1, product.options ? Object.fromEntries(product.options.map(opt => [opt.name, opt.values[0]])) : {}); showToast(`${product.name} added to cart!`, 'success') })"
                                                                                            title="Add to Cart"
                                                                                            class="flex-shrink-0 p-3 bg-brand-secondary text-brand-primary rounded-full hover:bg-gray-200 transition-colors">
                                                                                            <i
                                                                                                class="fa-solid fa-bag-shopping h-5 w-5"></i>
                                                                                        </button>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </template>
                                                                        <template x-if="filteredProducts.length === 0">
                                                                            <p
                                                                                class="text-gray-500 sm:col-span-2 xl:col-span-3 text-center py-12">
                                                                                No products
                                                                                found matching your filters.</p>
                                                                        </template>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div x-show="filterMenuOpen"
                                                            @keydown.escape.window="filterMenuOpen = false"
                                                            x-trap.inert.noscroll="filterMenuOpen"
                                                            style="display: none;">
                                                            <div @click="filterMenuOpen = false"
                                                                class="fixed inset-0 bg-black bg-opacity-60 z-[98]"
                                                                x-show="filterMenuOpen" x-transition.opacity></div>

                                                            <div class="fixed bottom-0 left-0 right-0 h-[80vh] bg-white rounded-t-2xl shadow-2xl z-[99] flex flex-col"
                                                                x-show="filterMenuOpen"
                                                                x-transition:enter="transition ease-out duration-300"
                                                                x-transition:enter-start="transform translate-y-full"
                                                                x-transition:enter-end="transform translate-y-0"
                                                                x-transition:leave="transition ease-in duration-300"
                                                                x-transition:leave-start="transform translate-y-0"
                                                                x-transition:leave-end="transform translate-y-full">

                                                                <div
                                                                    class="flex items-center justify-between p-5 border-b border-gray-200">
                                                                    <h3 class="font-serif text-2xl font-bold">Filters
                                                                    </h3>
                                                                    <button @click="filterMenuOpen = false"
                                                                        class="text-gray-400 hover:text-gray-600">
                                                                        <i class="fa-solid fa-xmark h-6 w-6"></i>
                                                                    </button>
                                                                </div>

                                                                <div class="p-6 overflow-y-auto flex-1">
                                                                    <h4 class="font-semibold mb-3 text-brand-text">
                                                                        Category</h4>
                                                                    <div class="space-y-2">
                                                                        <label
                                                                            class="flex items-center text-gray-600 hover:text-brand-primary cursor-pointer p-2 rounded-lg"
                                                                            :class="{'bg-brand-secondary text-brand-primary': activeCategory === 'All'}">
                                                                            <input type="radio" x-model="activeCategory"
                                                                                value="All" name="category-mobile"
                                                                                class="h-4 w-4 text-brand-primary border-gray-300 focus:ring-brand-primary/50">
                                                                            <span class="ml-3 font-medium">All
                                                                                Categories</span>
                                                                        </label>
                                                                        <template
                                                                            x-for="category in allCategories.filter(c => c !== 'All')"
                                                                            :key="category">
                                                                            <label
                                                                                class="flex items-center text-gray-600 hover:text-brand-primary cursor-pointer p-2 rounded-lg"
                                                                                :class="{'bg-brand-secondary text-brand-primary': activeCategory === category}">
                                                                                <input type="radio"
                                                                                    x-model="activeCategory"
                                                                                    :value="category"
                                                                                    name="category-mobile"
                                                                                    class="h-4 w-4 text-brand-primary border-gray-300 focus:ring-brand-primary/50">
                                                                                <span class="ml-3 font-medium"
                                                                                    x-text="category"></span>
                                                                            </label>
                                                                        </template>
                                                                    </div>
                                                                </div>

                                                                <div class="p-4 border-t border-gray-200 bg-white">
                                                                    <button @click="filterMenuOpen = false"
                                                                        class="w-full bg-brand-primary text-white font-semibold py-3 rounded-full hover:bg-brand-primary-dark transition-colors">
                                                                        View Results
                                                                    </button>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <template x-if="view === 'product' && currentProduct">
                                                        <div class="bg-white min-h-screen">
                                                            <div class="container mx-auto p-4 md:p-12 pt-28">
                                                                <button @click="navigate('shop')"
                                                                    class="flex items-center gap-2 mb-8 text-sm text-gray-500 hover:text-brand-primary transition-colors">
                                                                    <i class="fa-solid fa-arrow-left h-4 w-4"></i> Back
                                                                    to Collections
                                                                </button>
                                                                <div class="grid md:grid-cols-2 gap-12 lg:gap-16">
                                                                    <div>
                                                                        <div
                                                                            class="w-full aspect-square bg-gray-100 rounded-lg shadow-sm overflow-hidden flex items-center justify-center mb-4">
                                                                            <img :src="mainImage"
                                                                                :alt="currentProduct.name"
                                                                                class="w-full h-full object-cover">
                                                                            class="w-full aspect-square bg-gray-100
                                                                            rounded-lg shadow-sm overflow-hidden flex
                                                                            items-center justify-center mb-4">
                                                                            <img :src="mainImage"
                                                                                :alt="currentProduct.name"
                                                                                class="w-full h-full object-cover">
                                                                        </div>
                                                                        <div
                                                                            class="flex items-center gap-3 overflow-x-auto pb-2">
                                                                            <template
                                                                                x-for="img in currentProduct.images"
                                                                                :key="img">
                                                                                <img :src="img"
                                                                                    :alt="currentProduct.name + ' thumbnail'"
                                                                                    @click="mainImage = img"
                                                                                    class="w-20 h-20 object-cover rounded-md border-2 cursor-pointer transition-all"
                                                                                    :class="mainImage === img ? 'border-brand-primary ring-2 ring-brand-primary/50' : 'border-transparent hover:border-gray-300'">
                                                                            </template>
                                                                        </div>
                                                                    </div>

                                                                    <div
                                                                        class="flex items-center gap-3 overflow-x-auto pb-2">
                                                                        <template x-for="img in currentProduct.images"
                                                                            :key="img">
                                                                            <img :src="img"
                                                                                :alt="currentProduct.name + ' thumbnail'"
                                                                                @click="mainImage = img"
                                                                                class="w-20 h-20 object-cover rounded-md border-2 cursor-pointer transition-all"
                                                                                :class="mainImage === img ? 'border-brand-primary ring-2 ring-brand-primary/50' : 'border-transparent hover:border-gray-300'">
                                                                        </template>
                                                                    </div>
                                                                </div>

                                                                <div>
                                                                    <h1 class="font-serif text-4xl md:text-5xl font-bold mb-3 leading-tight"
                                                                        x-text="currentProduct.name"></h1>
                                                                    <p class="text-3xl font-serif text-brand-primary mb-6"
                                                                        x-text="formatCurrency(currentProduct.price)">
                                                                    </p>
                                                                    <p class="text-gray-500 text-xs mb-4 uppercase tracking-wider"
                                                                        x-text="currentProduct.category"></p>
                                                                    <h1 class="font-serif text-4xl md:text-5xl font-bold mb-3 leading-tight"
                                                                        x-text="currentProduct.name"></h1>
                                                                    <p class="text-3xl font-serif text-brand-primary mb-6"
                                                                        x-text="formatCurrency(currentProduct.price)">
                                                                    </p>
                                                                    <p class="text-gray-500 text-xs mb-4 uppercase tracking-wider"
                                                                        x-text="currentProduct.category"></p>

                                                                    <template
                                                                        x-if="currentProduct.options && currentProduct.options.length > 0">
                                                                        <div class="space-y-4 mb-8">
                                                                            <template
                                                                                x-for="option in currentProduct.options"
                                                                                :key="option.name">
                                                                                <div>
                                                                                    <label :for="option.name"
                                                                                        class="block text-sm font-medium text-gray-700 mb-1.5"
                                                                                        x-text="option.name"></label>
                                                                                    <select :id="option.name"
                                                                                        x-model="selectedOptions[option.name]"
                                                                                        class="w-full max-w-xs bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition p-3 text-sm">
                                                                                        <template
                                                                                            x-for="value in option.values"
                                                                                            :key="value">
                                                                                            <option :value="value"
                                                                                                x-text="value"></option>
                                                                                        </template>
                                                                                    </select>
                                                                                </div>
                                                                            </template>
                                                                        </div>
                                                                    </template>

                                                                    <div class="flex items-center gap-4 mb-4">
                                                                        <label for="quantity"
                                                                            class="text-sm font-medium">Quantity:</label>
                                                                        <div
                                                                            class="flex items-center border border-gray-300 rounded-full">
                                                                            <button
                                                                                @click="currentProduct.quantity = Math.max(1, (currentProduct.quantity || 1) - 1)"
                                                                                class="p-3 text-gray-600 hover:text-brand-primary transition-colors disabled:opacity-50"
                                                                                :disabled="currentProduct.quantity <= 1">
                                                                                <i
                                                                                    class="fa-solid fa-minus h-3 w-3"></i>
                                                                            </button>
                                                                            <input type="text" id="quantity"
                                                                                x-model.number="currentProduct.quantity"
                                                                                class="w-12 text-center border-none focus:ring-0 font-medium p-0">
                                                                            <button
                                                                                @click="currentProduct.quantity = (currentProduct.quantity || 1) + 1"
                                                                                class="p-3 text-gray-600 hover:text-brand-primary transition-colors">
                                                                                <i class="fa-solid fa-plus h-3 w-3"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="space-y-3">
                                                                        <button
                                                                            @click="loginGate(() => { $store.cart.add(currentProduct, currentProduct.quantity, selectedOptions); showToast(`${currentProduct.name} added to cart!`, 'success') })"
                                                                            class="w-full flex items-center justify-center gap-2 bg-brand-primary text-white font-semibold py-3.5 px-6 rounded-full shadow-lg hover:bg-brand-primary-dark transition-colors transform hover:scale-[1.02]">
                                                                            <i
                                                                                class="fa-solid fa-bag-shopping h-5 w-5"></i>
                                                                            Add to Cart
                                                                        </button>
                                                                        <a :href="`https://wa.me/919079199046?text=${encodeURIComponent('Hi! I\'m interested in the ' + currentProduct.name)}`"
                                                                            <template
                                                                            x-if="currentProduct.options && currentProduct.options.length > 0">
                                                                            <div class="space-y-4 mb-8">
                                                                                <template
                                                                                    x-for="option in currentProduct.options"
                                                                                    :key="option.name">
                                                                                    <div>
                                                                                        <label :for="option.name"
                                                                                            class="block text-sm font-medium text-gray-700 mb-1.5"
                                                                                            x-text="option.name"></label>
                                                                                        <select :id="option.name"
                                                                                            x-model="selectedOptions[option.name]"
                                                                                            class="w-full max-w-xs bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition p-3 text-sm">
                                                                                            <template
                                                                                                x-for="value in option.values"
                                                                                                :key="value">
                                                                                                <option :value="value"
                                                                                                    x-text="value">
                                                                                                </option>
                                                                                            </template>
                                                                                        </select>
                                                                                    </div>
                                                                                </template>
                                                                            </div>
                                                    </template>

                                                    <div class="flex items-center gap-4 mb-4">
                                                        <label for="quantity"
                                                            class="text-sm font-medium">Quantity:</label>
                                                        <div
                                                            class="flex items-center border border-gray-300 rounded-full">
                                                            <button
                                                                @click="currentProduct.quantity = Math.max(1, (currentProduct.quantity || 1) - 1)"
                                                                class="p-3 text-gray-600 hover:text-brand-primary transition-colors disabled:opacity-50"
                                                                :disabled="currentProduct.quantity <= 1">
                                                                <i class="fa-solid fa-minus h-3 w-3"></i>
                                                            </button>
                                                            <input type="text" id="quantity"
                                                                x-model.number="currentProduct.quantity"
                                                                class="w-12 text-center border-none focus:ring-0 font-medium p-0">
                                                            <button
                                                                @click="currentProduct.quantity = (currentProduct.quantity || 1) + 1"
                                                                class="p-3 text-gray-600 hover:text-brand-primary transition-colors">
                                                                <i class="fa-solid fa-plus h-3 w-3"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="space-y-3">
                                                        <button
                                                            @click="loginGate(() => { $store.cart.add(currentProduct, currentProduct.quantity, selectedOptions); showToast(`${currentProduct.name} added to cart!`, 'success') })"
                                                            class="w-full flex items-center justify-center gap-2 bg-brand-primary text-white font-semibold py-3.5 px-6 rounded-full shadow-lg hover:bg-brand-primary-dark transition-colors transform hover:scale-[1.02]">
                                                            <i class="fa-solid fa-bag-shopping h-5 w-5"></i> Add to Cart
                                                        </button>
                                                        <a :href="`https://wa.me/919079199046?text=${encodeURIComponent('Hi! I\'m interested in the ' + currentProduct.name)}`"
                                                            target="_blank"
                                                            class="w-full flex items-center justify-center gap-2 bg-[#25D366] text-white font-semibold py-3.5 px-6 rounded-full shadow-lg hover:bg-[#1DA851] transition-colors transform hover:scale-[1.02]">
                                                            <i class="fa-brands fa-whatsapp h-5 w-5"></i> Order on
                                                            WhatsApp
                                                            class="w-full flex items-center justify-center gap-2
                                                            bg-[#25D366] text-white font-semibold py-3.5 px-6
                                                            rounded-full shadow-lg hover:bg-[#1DA851] transition-colors
                                                            transform hover:scale-[1.02]">
                                                            <i class="fa-brands fa-whatsapp h-5 w-5"></i> Order on
                                                            WhatsApp
                                                        </a>
                                                    </div>

                                                    <div x-data="{ tab: 'description' }" class="mt-12">
                                                        <div class="flex border-b border-gray-200">
                                                            <button @click="tab = 'description'"
                                                                class="py-3 px-5 border-b-2 -mb-px font-medium text-sm transition-colors"
                                                                :class="tab === 'description' ? 'border-brand-primary text-brand-primary' : 'border-transparent text-gray-500 hover:text-gray-700'">Description</button>
                                                            <button @click="tab = 'shipping'"
                                                                class="py-3 px-5 border-b-2 -mb-px font-medium text-sm transition-colors"
                                                                :class="tab === 'shipping' ? 'border-brand-primary text-brand-primary' : 'border-transparent text-gray-500 hover:text-gray-700'">Shipping
                                                                & Returns</button>
                                                            <button @click="tab = 'reviews'"
                                                                class="py-3 px-5 border-b-2 -mb-px font-medium text-sm transition-colors"
                                                                :class="tab === 'reviews' ? 'border-brand-primary text-brand-primary' : 'border-transparent text-gray-500 hover:text-gray-700'"
                                                                x-text="`Reviews (${currentProduct.reviews.length})`"></button>
                                                        </div>
                                                        <div
                                                            class="py-6 space-y-4 text-gray-600 text-sm leading-relaxed">
                                                            <div x-show="tab === 'description'">
                                                                <p x-text="currentProduct.description"></p>
                                                            </div>
                                                            <div x-show="tab === 'shipping'" style="display: none;">
                                                                <ul class="list-disc list-inside space-y-2">
                                                                    <li>Securely packaged and shipped within 3-5
                                                                        business days.</li>
                                                                    <li>We offer worldwide shipping!</li>
                                                                    <li>Returns accepted within 14 days on non-custom
                                                                        items.</li>
                                                                    <li>Item must be in original condition. Buyer pays
                                                                        return shipping.
                                                                    </li>
                                                                    <li>Custom orders are final sale and cannot be
                                                                        returned.</li>
                                                                </ul>
                                                            </div>
                                                            <div x-show="tab === 'reviews'" style="display: none;">
                                                                <template x-if="currentProduct.reviews.length === 0">
                                                                    <p>No reviews yet for this product.</p>
                                                                </template>
                                                                <div class="space-y-6">
                                                                    <template x-for="review in currentProduct.reviews"
                                                                        :key="review.user">
                                                                        <div class="border-b border-gray-100 pb-4">
                                                                            <div class="flex items-center mb-1.5">
                                                                                <div class="flex text-yellow-400">
                                                                                    <template x-for="i in 5">
                                                                                        <i class="fa-solid fa-star"
                                                                                            :class="i > review.rating ? 'text-gray-300' : ''"></i>
                                                                                    </template>
                                                                                </div>
                                                                                <span
                                                                                    class="font-bold text-gray-800 ml-3"
                                                                                    x-text="review.user"></span>
                                                                            </div>
                                                                            <p x-text="review.comment"></p>
                                                                        </div>
                                                                    </template>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                    </div>

                                    <div class="mt-20 md:mt-28 pt-16 border-t border-gray-200">
                                        <h2 class="font-serif text-3xl md:text-4xl font-bold text-center mb-12">You
                                            Might Also Like
                                        </h2>
                                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                                            <template
                                                x-for="product in products.filter(p => p._id !== currentProduct._id).slice(0, 3)"
                                                :key="product._id">
                                                <div
                                                    class="bg-white rounded-lg shadow-md overflow-hidden group transition-all transform hover:shadow-xl hover:-translate-y-2 flex flex-col">
                                                    <div class="relative h-72 overflow-hidden">
                                                        <img :src="product.images[0]" :alt="product.name"
                                                            class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300">
                                                    </div>
                                                    <div class="p-6 flex flex-col flex-grow">
                                                        <h3 class="text-xl font-semibold mb-2 leading-tight"
                                                            x-text="product.name">
                                                        </h3>
                                                        <p class="text-2xl font-serif text-brand-primary mb-4 mt-auto"
                                                            x-text="formatCurrency(product.price)"></p>
                                                        <button @click="viewProduct(product)"
                                                            class="w-full text-center bg-brand-primary text-white font-semibold py-2.5 rounded-full hover:bg-brand-primary-dark transition-colors">
                                                            View Details
                                                        </button>
                                                    </div>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                </div>
                        </div>
                        </template>

                        <div x-show="view === 'login'" x-transition
                            class="bg-gradient-to-br from-brand-secondary via-brand-bg to-brand-secondary min-h-screen flex items-center justify-center p-4 py-16"
                            style="display: none;">
                            <div
                                class="w-full max-w-4xl bg-white rounded-2xl shadow-xl grid md:grid-cols-2 overflow-hidden my-12 border border-gray-100">
                                <div
                                    class="hidden md:flex flex-col items-center justify-center text-center p-12 bg-brand-primary text-white relative overflow-hidden">
                                    <div
                                        class="absolute -top-16 -right-16 w-48 h-48 border-4 border-white/20 rounded-full">
                                    </div>
                                    class="hidden md:flex flex-col items-center justify-center text-center p-12
                                    bg-brand-primary text-white relative overflow-hidden">
                                    <div
                                        class="absolute -top-16 -right-16 w-48 h-48 border-4 border-white/20 rounded-full">
                                    </div>
                                    <div class="absolute -bottom-20 -left-10 w-64 h-64 bg-white/10 rounded-full"></div>
                                    <i class="fa-solid fa-palette h-20 w-20 mb-4 z-10 text-white/80"></i>
                                    <h2 class="font-serif text-4xl font-bold mb-2 z-10">Crafting Sign</h2>
                                    <p class="z-10 opacity-80">Custom Event & Wedding Decor</p>
                                    <i class="fa-solid fa-palette h-20 w-20 mb-4 z-10 text-white/80"></i>
                                    <h2 class="font-serif text-4xl font-bold mb-2 z-10">Crafting Sign</h2>
                                    <p class="z-10 opacity-80">Custom Event & Wedding Decor</p>
                                </div>
                                <div class="p-8 md:p-12">
                                    <div class="text-center mb-10">
                                        <h2 class="font-serif text-3xl font-bold text-brand-text mb-2" <div
                                            class="text-center mb-10">
                                            <h2 class="font-serif text-3xl font-bold text-brand-text mb-2"
                                                x-text="loginTab === 'login' ? 'Welcome Back' : 'Create Account'"></h2>
                                            <p class="text-gray-500 text-sm"
                                                x-text="loginTab === 'login' ? 'Sign in to access your account' : 'Join our community of creators'">
                                            <p class="text-gray-500 text-sm"
                                                x-text="loginTab === 'login' ? 'Sign in to access your account' : 'Join our community of creators'">
                                            </p>
                                    </div>
                                    <div class="flex border border-gray-200 rounded-full p-1 mb-10 bg-gray-50">
                                        <div class="flex border border-gray-200 rounded-full p-1 mb-10 bg-gray-50">
                                            <button @click="loginTab = 'login'"
                                                :class="loginTab === 'login' ? 'bg-brand-primary text-white shadow-md' : 'text-gray-600'"
                                                class="w-1/2 py-2 rounded-full transition-all duration-300 font-medium text-sm">Login</button>
                                            :class="loginTab === 'login' ? 'bg-brand-primary text-white shadow-md' :
                                            'text-gray-600'"
                                            class="w-1/2 py-2 rounded-full transition-all duration-300 font-medium
                                            text-sm">Login</button>
                                            <button @click="loginTab = 'register'"
                                                :class="loginTab === 'register' ? 'bg-brand-primary text-white shadow-md' : 'text-gray-600'"
                                                class="w-1/2 py-2 rounded-full transition-all duration-300 font-medium text-sm">Register</button>
                                            :class="loginTab === 'register' ? 'bg-brand-primary text-white shadow-md' :
                                            'text-gray-600'"
                                            class="w-1/2 py-2 rounded-full transition-all duration-300 font-medium
                                            text-sm">Register</button>
                                        </div>

                                        <div x-show="loginTab === 'login'">
                                            <form
                                                @submit.prevent="$store.auth.login(loginForm.email, loginForm.password)"
                                                class="space-y-6">
                                                <div x-show="loginTab === 'login'">
                                                    <form
                                                        @submit.prevent="$store.auth.login(loginForm.email, loginForm.password)"
                                                        class="space-y-6">
                                                        <div class="relative">
                                                            <label for="login-email"
                                                                class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Email
                                                                Address</label>
                                                            <input id="login-email" type="email"
                                                                x-model="loginForm.email" required
                                                                placeholder="you@example.com"
                                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                            <label for="login-email"
                                                                class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Email
                                                                Address</label>
                                                            <input id="login-email" type="email"
                                                                x-model="loginForm.email" required
                                                                placeholder="you@example.com"
                                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                        </div>
                                                        <div class="relative">
                                                            <label for="login-password"
                                                                class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Password</label>
                                                            <input id="login-password" type="password"
                                                                x-model="loginForm.password" required
                                                                placeholder="••••••••"
                                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                            <label for="login-password"
                                                                class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Password</label>
                                                            <input id="login-password" type="password"
                                                                x-model="loginForm.password" required
                                                                placeholder="••••••••"
                                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                        </div>
                                                        <button type="submit"
                                                            class="w-full bg-brand-primary text-white font-semibold py-3 rounded-full hover:bg-brand-primary-dark transform hover:scale-[1.02] transition-all shadow-md">Sign
                                                            class="w-full bg-brand-primary text-white font-semibold py-3
                                                            rounded-full hover:bg-brand-primary-dark transform
                                                            hover:scale-[1.02] transition-all shadow-md">Sign
                                                            In</button>
                                                    </form>
                                                </div>

                                                <div x-show="loginTab === 'register'" style="display: none;">
                                                    <form
                                                        @submit.prevent="$store.auth.register(registerForm.name, registerForm.email, registerForm.password)"
                                                        class="space-y-6">
                                                        <div x-show="loginTab === 'register'" style="display: none;">
                                                            <form
                                                                @submit.prevent="$store.auth.register(registerForm.name, registerForm.email, registerForm.password)"
                                                                class="space-y-6">
                                                                <div class="relative">
                                                                    <label for="reg-name"
                                                                        class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Full
                                                                        Name</label>
                                                                    <input id="reg-name" type="text"
                                                                        x-model="registerForm.name" required
                                                                        placeholder="Your Name"
                                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                                    <label for="reg-name"
                                                                        class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Full
                                                                        Name</label>
                                                                    <input id="reg-name" type="text"
                                                                        x-model="registerForm.name" required
                                                                        placeholder="Your Name"
                                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                                </div>
                                                                <div class="relative">
                                                                    <label for="reg-email"
                                                                        class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Email
                                                                        Address</label>
                                                                    <input id="reg-email" type="email"
                                                                        x-model="registerForm.email" required
                                                                        placeholder="you@example.com"
                                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                                    <label for="reg-email"
                                                                        class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Email
                                                                        Address</label>
                                                                    <input id="reg-email" type="email"
                                                                        x-model="registerForm.email" required
                                                                        placeholder="you@example.com"
                                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                                </div>
                                                                <div class="relative">
                                                                    <label for="reg-password"
                                                                        class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Password</label>
                                                                    <input id="reg-password" type="password"
                                                                        x-model="registerForm.password" required
                                                                        placeholder="Create a password"
                                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                                    <label for="reg-password"
                                                                        class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Password</label>
                                                                    <input id="reg-password" type="password"
                                                                        x-model="registerForm.password" required
                                                                        placeholder="Create a password"
                                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                                                </div>
                                                                <button type="submit"
                                                                    class="w-full bg-brand-primary text-white font-semibold py-3 rounded-full hover:bg-brand-primary-dark transform hover:scale-[1.02] transition-all shadow-md">Create
                                                                    class="w-full bg-brand-primary text-white
                                                                    font-semibold py-3 rounded-full
                                                                    hover:bg-brand-primary-dark transform
                                                                    hover:scale-[1.02] transition-all shadow-md">Create
                                                                    Account</button>
                                                            </form>
                                                        </div>
                                                </div>
                                        </div>
                                    </div>

                                    <div x-show="view === 'account'" x-transition
                                        class="min-h-screen bg-brand-secondary/50 pt-28 pb-16" style="display: none;">
                                        <div class="container mx-auto p-4 md:p-8">

                                            <template x-if="!$store.auth.user">
                                                <div class="text-center py-20 bg-white rounded-lg shadow-md p-8">
                                                    <h2 class="font-serif text-3xl font-bold mb-4">Please Log In</h2>
                                                    <p class="text-gray-600 mb-8">You must be logged in to view your
                                                        account page.</p>
                                                    <button @click="navigate('login')"
                                                        class="bg-brand-primary text-white font-semibold px-10 py-3 rounded-full hover:bg-brand-primary-dark transition-colors">Login
                                                        Now</button>
                                                </div>
                                            </template>

                                            <template x-if="$store.auth.user">
                                                <div x-data="{ accountTab: 'orders' }">
                                                    <h1 class="font-serif text-4xl md:text-5xl font-bold mb-4"
                                                        x-text="`Welcome, ${$store.auth.user.name.split(' ')[0]}`"></h1>
                                                    <p class="text-lg text-gray-600 mb-10">Manage your orders,
                                                        addresses, and account details
                                                        here.</p>

                                                    <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                                                        <aside class="col-span-1">
                                                            <nav class="flex flex-col space-y-2">
                                                                <button @click="accountTab = 'orders'"
                                                                    class="flex items-center gap-3 p-3 rounded-lg text-left"
                                                                    :class="accountTab === 'orders' ? 'bg-brand-primary text-white shadow' : 'hover:bg-gray-100 text-brand-text'">
                                                                    <i class="fa-solid fa-receipt h-5 w-5"></i>
                                                                    <span class="font-medium">Order History</span>
                                                                </button>
                                                                <button @click="accountTab = 'addresses'"
                                                                    class="flex items-center gap-3 p-3 rounded-lg text-left"
                                                                    :class="accountTab === 'addresses' ? 'bg-brand-primary text-white shadow' : 'hover:bg-gray-100 text-brand-text'">
                                                                    <i class="fa-solid fa-location-dot h-5 w-5"></i>
                                                                    <span class="font-medium">My Addresses</span>
                                                                </button>
                                                                <button @click="accountTab = 'details'"
                                                                    class="flex items-center gap-3 p-3 rounded-lg text-left"
                                                                    :class="accountTab === 'details' ? 'bg-brand-primary text-white shadow' : 'hover:bg-gray-100 text-brand-text'">
                                                                    <i class="fa-solid fa-user-pen h-5 w-5"></i>
                                                                    <span class="font-medium">Account Details</span>
                                                                </button>
                                                                <button @click="$store.auth.logout()"
                                                                    class="flex items-center gap-3 p-3 rounded-lg text-left hover:bg-gray-100 text-brand-text">
                                                                    <i
                                                                        class="fa-solid fa-right-from-bracket h-5 w-5"></i>
                                                                    <span class="font-medium">Logout</span>
                                                                </button>
                                                            </nav>
                                                        </aside>

                                                        <div
                                                            class="col-span-1 md:col-span-3 bg-white rounded-lg shadow-md border border-gray-100 p-6 md:p-8">
                                                            <div x-show="accountTab === 'orders'">
                                                                <h2 class="font-serif text-3xl font-semibold mb-6">Order
                                                                    History</h2>

                                                                <template x-if="myOrders.length === 0">
                                                                    <p class="text-gray-500">You have not placed any
                                                                        orders yet.</p>
                                                                </template>

                                                                <div class="space-y-6">
                                                                    <template x-for="order in myOrders"
                                                                        :key="order._id">
                                                                        <div
                                                                            class="border border-gray-200 rounded-lg overflow-hidden">
                                                                            <div
                                                                                class="bg-gray-50 p-4 flex flex-wrap justify-between items-center text-sm gap-4">
                                                                                <div>
                                                                                    <p class="font-semibold">Order:
                                                                                        <span
                                                                                            class="font-normal text-gray-600"
                                                                                            x-text="'#' + order._id.substring(0, 7)"></span>
                                                                                    </p>
                                                                                    <p class="font-semibold">Placed:
                                                                                        <span
                                                                                            class="font-normal text-gray-600"
                                                                                            x-text="formatDate(order.createdAt)"></span>
                                                                                    </p>
                                                                                </div>
                                                                                <div>
                                                                                    <p class="font-semibold">Total:
                                                                                        <span
                                                                                            class="font-normal text-gray-600"
                                                                                            x-text="formatCurrency(order.totalPrice)"></span>
                                                                                    </p>
                                                                                    <p class="font-semibold">Status:
                                                                                        <span class="font-medium"
                                                                                            x-text="order.status"
                                                                                            :class="{
                                'text-green-600': order.status === 'Delivered',
                                'text-blue-600': order.status === 'Shipped',
                                'text-yellow-600': order.status === 'Pending',
                                'text-red-600': order.status === 'Cancelled'
                            }"></span></p>
                                                                                </div>
                                                                            </div>
                                                                            <div class="p-4 space-y-3">
                                                                                <template
                                                                                    x-for="item in order.orderItems"
                                                                                    :key="item.product">
                                                                                    <div
                                                                                        class="flex items-center gap-4">
                                                                                        <img :src="item.images[0]"
                                                                                            alt="Product"
                                                                                            class="w-16 h-16 rounded-md object-cover">
                                                                                        <div>
                                                                                            <p class="font-semibold"
                                                                                                x-text="item.name"></p>
                                                                                            <p class="text-sm text-gray-500"
                                                                                                x-text="`Qty: ${item.quantity}`">
                                                                                            </p>
                                                                                        </div>
                                                                                    </div>
                                                                                </template>
                                                                            </div>
                                                                        </div>
                                                                    </template>
                                                                </div>
                                                            </div>

                                                            <div x-show="accountTab === 'addresses'"
                                                                style="display: none;">
                                                                <h2 class="font-serif text-3xl font-semibold mb-6">My
                                                                    Addresses</h2>

                                                                <template x-if="addresses.length === 0">
                                                                    <p class="text-gray-500">You have not saved any
                                                                        addresses yet.</p>
                                                                </template>

                                                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                                                    <template x-for="addr in addresses" :key="addr._id">
                                                                        <div
                                                                            class="border border-gray-200 rounded-lg p-5 relative">
                                                                            <template x-if="addr.isDefault">
                                                                                <span
                                                                                    class="absolute top-3 right-3 text-xs bg-brand-secondary text-brand-primary font-medium px-2 py-0.5 rounded-full">Default</span>
                                                                            </template>
                                                                            <h3 class="font-semibold text-lg mb-2"
                                                                                x-text="`${addr.firstName} ${addr.lastName}`">
                                                                            </h3>
                                                                            <address
                                                                                class="text-gray-600 not-italic text-sm leading-relaxed">
                                                                                <span class="block"
                                                                                    x-text="addr.address"></span>
                                                                                <span class="block"
                                                                                    x-text="`${addr.city}, ${addr.state}, ${addr.zip}`"></span>
                                                                                <span class="block"
                                                                                    x-text="addr.country"></span>
                                                                            </address>
                                                                            <div
                                                                                class="mt-4 pt-4 border-t border-gray-100 flex gap-4">
                                                                                <button
                                                                                    class="text-sm text-brand-primary hover:underline">Edit</button>
                                                                                <button @click="deleteAddress(addr._id)"
                                                                                    class="text-sm text-red-500 hover:underline">Delete</button>
                                                                            </div>
                                                                        </div>
                                                                    </template>

                                                                    <button @click="openAddressModal()"
                                                                        class="border-2 border-dashed border-gray-300 rounded-lg p-5 flex flex-col items-center justify-center text-gray-500 hover:text-brand-primary hover:border-brand-primary transition-colors h-full min-h-[150px]">
                                                                        <i class="fa-solid fa-plus h-6 w-6 mb-2"></i>
                                                                        <span class="font-medium text-sm">Add New
                                                                            Address</span>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                            <div x-show="accountTab === 'details'"
                                                                style="display: none;">
                                                                <h2 class="font-serif text-3xl font-semibold mb-6">
                                                                    Account Details</h2>
                                                                <form
                                                                    @submit.prevent="showToast('Profile updated!', 'success')"
                                                                    class="space-y-5 max-w-lg">
                                                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                                                                        <div>
                                                                            <label
                                                                                class="block text-sm font-medium mb-1 text-gray-700">Full
                                                                                Name</label>
                                                                            <input type="text"
                                                                                :value="$store.auth.user.name"
                                                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                        </div>
                                                                        <div>
                                                                            <label
                                                                                class="block text-sm font-medium mb-1 text-gray-700">Email
                                                                                Address</label>
                                                                            <input type="email"
                                                                                :value="$store.auth.user.email"
                                                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm bg-gray-100 text-gray-500 cursor-not-allowed"
                                                                                disabled>
                                                                        </div>
                                                                    </div>
                                                                    <div>
                                                                        <label
                                                                            class="block text-sm font-medium mb-1 text-gray-700">New
                                                                            Password</label>
                                                                        <input type="password"
                                                                            placeholder="Leave blank to keep current"
                                                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                    </div>
                                                                    <div>
                                                                        <label
                                                                            class="block text-sm font-medium mb-1 text-gray-700">Confirm
                                                                            New
                                                                            Password</label>
                                                                        <input type="password" placeholder="••••••••"
                                                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                    </div>
                                                                    <div class="pt-2">
                                                                        <button type="submit"
                                                                            class="bg-brand-primary text-white font-semibold px-8 py-2.5 rounded-full hover:bg-brand-primary-dark transition-colors">Save
                                                                            Changes</button>
                                                                    </div>
                                                                </form>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </template>
                                        </div>
                                    </div>

                                    <div x-show="view === 'checkout'"
                                        class="min-h-screen bg-brand-secondary/50 pt-28 pb-16" style="display: none;">
                                        <div class="container mx-auto p-4 md:p-8">

                                            <div class="text-center mb-12">
                                                <h1 class="font-serif text-5xl font-bold">Checkout</h1>
                                                <p class="text-lg text-gray-600 mt-2">Complete your order</p>
                                            </div>

                                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">

                                                <div
                                                    class="bg-white p-6 md:p-8 rounded-lg shadow-md border border-gray-100">
                                                    <form @submit.prevent="placeOrder">
                                                        <div class="space-y-10">
                                                            <section>
                                                                <h2 class="font-serif text-2xl font-semibold mb-5">
                                                                    Shipping Address</h2>
                                                                <div class="space-y-5">
                                                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                                                                        <div>
                                                                            <label
                                                                                class="block text-sm font-medium mb-1 text-gray-700">First
                                                                                Name</label>
                                                                            <input type="text"
                                                                                x-model="shippingForm.firstName"
                                                                                required
                                                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                        </div>
                                                                        <div>
                                                                            <label
                                                                                class="block text-sm font-medium mb-1 text-gray-700">Last
                                                                                Name</label>
                                                                            <input type="text"
                                                                                x-model="shippingForm.lastName" required
                                                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                        </div>
                                                                    </div>
                                                                    <div>
                                                                        <label
                                                                            class="block text-sm font-medium mb-1 text-gray-700">Address</label>
                                                                        <input type="text"
                                                                            placeholder="Street, Apt, etc."
                                                                            x-model="shippingForm.address" required
                                                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                    </div>
                                                                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-5">
                                                                        <div>
                                                                            <label
                                                                                class="block text-sm font-medium mb-1 text-gray-700">City</label>
                                                                            <input type="text"
                                                                                x-model="shippingForm.city" required
                                                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                        </div>
                                                                        <div>
                                                                            <label
                                                                                class="block text-sm font-medium mb-1 text-gray-700">State
                                                                                /
                                                                                Province</label>
                                                                            <input type="text"
                                                                                x-model="shippingForm.state" required
                                                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                        </div>
                                                                        <div>
                                                                            <label
                                                                                class="block text-sm font-medium mb-1 text-gray-700">ZIP
                                                                                /
                                                                                Postal
                                                                                Code</label>
                                                                            <input type="text"
                                                                                x-model="shippingForm.zip" required
                                                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                        </div>
                                                                    </div>
                                                                    <div>
                                                                        <label
                                                                            class="block text-sm font-medium mb-1 text-gray-700">Country</label>
                                                                        <input type="text"
                                                                            x-model="shippingForm.country" required
                                                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                                                    </div>
                                                                </div>
                                                            </section>

                                                            <section>
                                                                <h2 class="font-serif text-2xl font-semibold mb-5">
                                                                    Payment Information</h2>
                                                                <div
                                                                    class="border border-gray-200 rounded-lg p-5 bg-gray-50">
                                                                    <p class="text-gray-600 text-sm">
                                                                        This is a demo checkout. We will integrate
                                                                        Payoneer later. Clicking
                                                                        "Place Order" will save your order as 'Pending'
                                                                        without processing
                                                                        payment.
                                                                    </p>
                                                                </div>
                                                            </section>

                                                            <button type="submit"
                                                                class="w-full bg-brand-primary text-white font-semibold py-3.5 px-6 rounded-full shadow-lg hover:bg-brand-primary-dark transition-colors transform hover:scale-[1.02]">
                                                                Place Order
                                                            </button>
                                                        </div>
                                                    </form>
                                                </div>

                                                <div class="lg:sticky top-28 h-min">
                                                    <div
                                                        class="bg-white p-6 md:p-8 rounded-lg shadow-md border border-gray-100">
                                                        <h2
                                                            class="font-serif text-2xl font-semibold mb-6 border-b pb-3">
                                                            Order Summary</h2>
                                                        <div class="space-y-4 max-h-64 overflow-y-auto pr-2">
                                                            <template x-if="$store.cart.items.length === 0">
                                                                <p class="text-gray-500 text-sm">Your cart is empty.</p>
                                                            </template>
                                                            <template x-for="item in $store.cart.items"
                                                                :key="item.cartId">
                                                                <div class="flex items-center gap-4">
                                                                    <img :src="item.images[0]"
                                                                        class="h-16 w-16 object-cover rounded-md border">
                                                                    <div class="flex-1">
                                                                        <p class="font-semibold text-sm"
                                                                            x-text="item.name"></p>
                                                                        <p class="text-xs text-gray-500"
                                                                            x-text="`Qty: ${item.quantity}`"></p>
                                                                    </div>
                                                                    <p class="text-sm font-medium"
                                                                        x-text="formatCurrency(item.price * item.quantity)">
                                                                    </p>
                                                                </div>
                                                            </template>
                                                        </div>
                                                        <div class="mt-6 pt-6 border-t space-y-3">
                                                            <div class="flex justify-between text-gray-600">
                                                                <span>Subtotal</span>
                                                                <span x-text="formatCurrency($store.cart.total)"></span>
                                                            </div>
                                                            <div class="flex justify-between text-gray-600">
                                                                <span>Shipping</span>
                                                                <span>Free</span>
                                                            </div>
                                                            <div
                                                                class="flex justify-between font-bold text-brand-text text-lg">
                                                                <span>Total</span>
                                                                <span x-text="formatCurrency($store.cart.total)"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div x-show="view === 'admin'" x-transition class="min-h-screen bg-gray-50"
                                        style="display: none;">
                                        <div
                                            class="bg-gradient-to-r from-brand-primary to-brand-primary-dark text-white py-8 shadow-md">
                                            <div class="container mx-auto px-4 flex justify-between items-center">
                                                <h1 class="font-serif text-3xl font-bold">Admin Dashboard</h1>
                                                <button @click="navigate('home')"
                                                    class="text-sm flex items-center gap-1 opacity-80 hover:opacity-100 transition-opacity">
                                                    <i class="fa-solid fa-arrow-up-right-from-square h-4 w-4"></i> View
                                                    Site
                                                </button>
                                                <button @click="navigate('home')"
                                                    class="text-sm flex items-center gap-1 opacity-80 hover:opacity-100 transition-opacity">
                                                    <i class="fa-solid fa-arrow-up-right-from-square h-4 w-4"></i> View
                                                    Site
                                                </button>
                                            </div>
                                        </div>
                                        <div class="container mx-auto p-4 md:p-8">
                                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
                                                <div
                                                    class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4">
                                                    <div class="bg-blue-100 p-3 rounded-full">
                                                        <i class="fa-solid fa-box h-6 w-6 text-blue-600"></i>
                                                    </div>
                                                    <div
                                                        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
                                                        <div
                                                            class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4">
                                                            <div class="bg-blue-100 p-3 rounded-full">
                                                                <i class="fa-solid fa-box h-6 w-6 text-blue-600"></i>
                                                            </div>
                                                            <div>
                                                                <p class="text-sm text-gray-500 font-medium">Total
                                                                    Products</p>
                                                                <p class="text-2xl font-bold text-brand-text">2</p>
                                                            </div>
                                                        </div>
                                                        <div
                                                            class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4">
                                                            <div class="bg-green-100 p-3 rounded-full">
                                                                <i
                                                                    class="fa-solid fa-cart-shopping h-6 w-6 text-green-600"></i>
                                                            </div>
                                                            <div
                                                                class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4">
                                                                <div class="bg-green-100 p-3 rounded-full">
                                                                    <i
                                                                        class="fa-solid fa-cart-shopping h-6 w-6 text-green-600"></i>
                                                                </div>
                                                                <div>
                                                                    <p class="text-sm text-gray-500 font-medium">Total
                                                                        Orders</p>
                                                                    <p class="text-2xl font-bold text-brand-text">3</p>
                                                                    <p class="text-sm text-gray-500 font-medium">Total
                                                                        Orders</p>
                                                                    <p class="text-2xl font-bold text-brand-text">3</p>
                                                                </div>
                                                            </div>
                                                            <div
                                                                class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4">
                                                                <div class="bg-yellow-100 p-3 rounded-full">
                                                                    <i
                                                                        class="fa-solid fa-dollar-sign h-6 w-6 text-yellow-600"></i>
                                                                </div>
                                                                <div
                                                                    class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4">
                                                                    <div class="bg-yellow-100 p-3 rounded-full">
                                                                        <i
                                                                            class="fa-solid fa-dollar-sign h-6 w-6 text-yellow-600"></i>
                                                                    </div>
                                                                    <div>
                                                                        <p class="text-sm text-gray-500 font-medium">
                                                                            Total Revenue</p>
                                                                        <p class="text-2xl font-bold text-brand-text"
                                                                            x-text="formatCurrency(16300)"></p>
                                                                        <p class="text-sm text-gray-500 font-medium">
                                                                            Total Revenue</p>
                                                                        <p class="text-2xl font-bold text-brand-text"
                                                                            x-text="formatCurrency(16300)"></p>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4">
                                                                    <div class="bg-purple-100 p-3 rounded-full">
                                                                        <i
                                                                            class="fa-solid fa-users h-6 w-6 text-purple-600"></i>
                                                                    </div>
                                                                    <div
                                                                        class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 flex items-center gap-4">
                                                                        <div class="bg-purple-100 p-3 rounded-full">
                                                                            <i
                                                                                class="fa-solid fa-users h-6 w-6 text-purple-600"></i>
                                                                        </div>
                                                                        <div>
                                                                            <p
                                                                                class="text-sm text-gray-500 font-medium">
                                                                                Total Users</p>
                                                                            <p
                                                                                class="text-2xl font-bold text-brand-text">
                                                                                2</p>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <div
                                                                    class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 mb-10">
                                                                    <div
                                                                        class="flex flex-col sm:flex-row justify-between sm:items-center mb-6 gap-4">
                                                                        <h2
                                                                            class="text-2xl font-semibold text-brand-text">
                                                                            Product Management</h2>
                                                                        <div
                                                                            class="bg-white p-6 rounded-lg shadow-sm border border-gray-100 mb-10">
                                                                            <div
                                                                                class="flex flex-col sm:flex-row justify-between sm:items-center mb-6 gap-4">
                                                                                <h2
                                                                                    class="text-2xl font-semibold text-brand-text">
                                                                                    Product Management</h2>
                                                                                <button @click="openProductModal()"
                                                                                    class="bg-brand-primary text-white font-semibold py-2 px-5 rounded-lg flex items-center gap-2 hover:bg-brand-primary-dark transition-colors whitespace-nowrap text-sm">
                                                                                    <i
                                                                                        class="fa-solid fa-plus-circle h-5 w-5"></i>
                                                                                    Add New Product
                                                                                    class="bg-brand-primary text-white
                                                                                    font-semibold py-2 px-5 rounded-lg
                                                                                    flex items-center gap-2
                                                                                    hover:bg-brand-primary-dark
                                                                                    transition-colors whitespace-nowrap
                                                                                    text-sm">
                                                                                    <i
                                                                                        class="fa-solid fa-plus-circle h-5 w-5"></i>
                                                                                    Add New Product
                                                                                </button>
                                                                            </div>
                                                                            <div class="overflow-x-auto">
                                                                                <table class="w-full text-left text-sm">
                                                                                    <table
                                                                                        class="w-full text-left text-sm">
                                                                                        <thead>
                                                                                            <tr
                                                                                                class="border-b bg-gray-50 text-xs text-gray-500 uppercase tracking-wider">
                                                                                                <th
                                                                                                    class="p-3 font-medium">
                                                                                                    Product</th>
                                                                                                <th
                                                                                                    class="p-3 font-medium">
                                                                                                    Price</th>
                                                                                                <th
                                                                                                    class="p-3 font-medium">
                                                                                                    Category</th>
                                                                                                <th
                                                                                                    class="p-3 font-medium">
                                                                                                    Status</th>
                                                                                                <th
                                                                                                    class="p-3 font-medium text-right">
                                                                                                    Actions</th>
                                                                                            <tr
                                                                                                class="border-b bg-gray-50 text-xs text-gray-500 uppercase tracking-wider">
                                                                                                <th
                                                                                                    class="p-3 font-medium">
                                                                                                    Product</th>
                                                                                                <th
                                                                                                    class="p-3 font-medium">
                                                                                                    Price</th>
                                                                                                <th
                                                                                                    class="p-3 font-medium">
                                                                                                    Category</th>
                                                                                                <th
                                                                                                    class="p-3 font-medium">
                                                                                                    Status</th>
                                                                                                <th
                                                                                                    class="p-3 font-medium text-right">
                                                                                                    Actions</th>
                                                                                            </tr>
                                                                                        </thead>
                                                                                        <tbody
                                                                                            class="divide-y divide-gray-100">
                                                                                            <template
                                                                                                x-for="product in products"
                                                                                                :key="product._id">
                                                                                                <tr
                                                                                                    class="hover:bg-gray-50">
                                                                                                    <td
                                                                                                        class="p-3 flex items-center gap-3">
                                                                                                        <img :src="product.images[0]"
                                                                                                            class="h-10 w-10 object-cover rounded-md flex-shrink-0">
                                                                                                        <span
                                                                                                            class="font-medium text-brand-text"
                                                                                                            x-text="product.name"></span>
                                                                                                    </td>
                                                                                                    <td class="p-3"
                                                                                                        x-text="formatCurrency(product.price)">
                                                                                                    </td>
                                                                                                    <td class="p-3 text-gray-600"
                                                                                                        x-text="product.category">
                                                                                                    </td>
                                                                                                    <td class="p-3"
                                                                                                        x-text="formatCurrency(product.price)">
                                                                                                    </td>
                                                                                                    <td class="p-3 text-gray-600"
                                                                                                        x-text="product.category">
                                                                                                    </td>
                                                                                                    <td class="p-3">
                                                                                                        <span
                                                                                                            class="px-2.5 py-0.5 text-xs font-medium rounded-full"
                                                                                                            :class="{
                                                <span class=" px-2.5 py-0.5 text-xs font-medium rounded-full" :class="{
                                                        'bg-green-100 text-green-800': product.status === 'In Stock',
                                                        'bg-yellow-100 text-yellow-800': product.status === 'Low Stock',
                                                        'bg-red-100 text-red-800': product.status === 'Out of Stock'
                                                        }" x-text="product.status"></span>
                                                                                                        }"
                                                                                                        x-text="product.status"></span>
                                                                                                    </td>
                                                                                                    <td
                                                                                                        class="p-3 text-right">
                                                                                                    <td
                                                                                                        class="p-3 text-right">
                                                                                                        <button
                                                                                                            @click="openProductModal(product)"
                                                                                                            class="p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors">
                                                                                                            <i
                                                                                                                class="fa-solid fa-pencil h-4 w-4"></i></button>
                                                                                                        <button
                                                                                                            @click="deleteProduct(product._id)"
                                                                                                            class="p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors">
                                                                                                            <i
                                                                                                                class="fa-solid fa-trash-can h-4 w-4"></i></button>
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </template>
                                                                                        </tbody>
                                                                                    </table>
                                                                            </div>
                                                                            <template x-if="products.length === 0">
                                                                                <p
                                                                                    class="text-center text-gray-500 py-8">
                                                                                    No products found. Add one!</p>
                                                                            </template>
                                                                            <template x-if="products.length === 0">
                                                                                <p
                                                                                    class="text-center text-gray-500 py-8">
                                                                                    No products found. Add one!</p>
                                                                            </template>
                                                                        </div>

                                                                        <div
                                                                            class="bg-white p-6 rounded-lg shadow-sm border border-gray-100">
                                                                            <div
                                                                                class="flex flex-col sm:flex-row justify-between sm:items-center mb-6 gap-4">
                                                                                <h2
                                                                                    class="text-2xl font-semibold text-brand-text">
                                                                                    Order Management</h2>
                                                                            </div>
                                                                            <div class="overflow-x-auto">
                                                                                <table class="w-full text-left text-sm">
                                                                                    <thead>
                                                                                        <tr
                                                                                            class="border-b bg-gray-50 text-xs text-gray-500 uppercase tracking-wider">
                                                                                            <th class="p-3 font-medium">
                                                                                                Order ID</th>
                                                                                            <th class="p-3 font-medium">
                                                                                                Customer</th>
                                                                                            <th class="p-3 font-medium">
                                                                                                Date</th>
                                                                                            <th class="p-3 font-medium">
                                                                                                Total</th>
                                                                                            <th class="p-3 font-medium">
                                                                                                Status</th>
                                                                                            <th
                                                                                                class="p-3 font-medium text-right">
                                                                                                Actions</th>
                                                                                        </tr>
                                                                                    </thead>
                                                                                    <tbody
                                                                                        class="divide-y divide-gray-100">
                                                                                        <template
                                                                                            x-if="allOrders.length === 0">
                                                                                            <tr>
                                                                                                <td colspan="6"
                                                                                                    class="p-4 text-center text-gray-500">
                                                                                                    No orders found.
                                                                                                </td>
                                                                                            </tr>
                                                                                        </template>
                                                                                        <template
                                                                                            x-for="order in allOrders"
                                                                                            :key="order._id">
                                                                                            <tr
                                                                                                class="hover:bg-gray-50">
                                                                                                <td class="p-3 font-medium text-brand-text"
                                                                                                    x-text="'#' + order._id.substring(0, 7)">
                                                                                                </td>
                                                                                                <td class="p-3"
                                                                                                    x-text="order.user ? `${order.user.name} (${order.user.email})` : 'N/A'">
                                                                                                </td>
                                                                                                <td class="p-3 text-gray-600"
                                                                                                    x-text="formatDate(order.createdAt)">
                                                                                                </td>
                                                                                                <td class="p-3"
                                                                                                    x-text="formatCurrency(order.totalPrice)">
                                                                                                </td>
                                                                                                <td class="p-3">
                                                                                                    <select
                                                                                                        :value="order.status"
                                                                                                        @change="updateOrderStatus(order._id, $event.target.value)"
                                                                                                        class="text-xs border-gray-300 rounded-md shadow-sm focus:ring-brand-primary/50 focus:border-brand-primary"
                                                                                                        :class="{
                        'text-green-800 bg-green-100 border-green-200': $event.target.value === 'Delivered',
                        'text-blue-800 bg-blue-100 border-blue-200': $event.target.value === 'Shipped',
                        'text-yellow-800 bg-yellow-100 border-yellow-200': $event.target.value === 'Pending',
                        'text-red-800 bg-red-100 border-red-200': $event.target.value === 'Cancelled'
                    }">
                                                                                                        <option
                                                                                                            value="Pending">
                                                                                                            Pending
                                                                                                        </option>
                                                                                                        <option
                                                                                                            value="Shipped">
                                                                                                            Shipped
                                                                                                        </option>
                                                                                                        <option
                                                                                                            value="Delivered">
                                                                                                            Delivered
                                                                                                        </option>
                                                                                                        <option
                                                                                                            value="Cancelled">
                                                                                                            Cancelled
                                                                                                        </option>
                                                                                                    </select>
                                                                                                </td>
                                                                                                <td
                                                                                                    class="p-3 text-right">
                                                                                                    <button
                                                                                                        @click="openOrderModal(order._id)"
                                                                                                        class="p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors">
                                                                                                        <i
                                                                                                            class="fa-solid fa-eye h-4 w-4"></i>
                                                                                                    </button>
                                                                                                </td>
                                                                                            </tr>
                                                                                        </template>
                                                                                    </tbody>
                                                                                </table>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
            </main>

            <div x-show="cartOpen" @keydown.escape.window="cartOpen = false" x-trap.inert.noscroll="cartOpen"
                style="display: none;">
                <div @click="cartOpen = false" class="fixed inset-0 bg-black bg-opacity-60 z-[99]" x-show="cartOpen"
                    x-transition:enter="transition-opacity ease-out duration-300" x-transition:enter-start="opacity-0"
                    x-transition:enter-end="opacity-100" x-transition:leave="transition-opacity ease-in duration-300"
                    x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"></div>

                <div class="fixed top-0 right-0 h-full w-full max-w-lg bg-white z-[100] shadow-2xl flex flex-col border-l border-gray-200"
                    x-show="cartOpen" x-transition:enter="transition ease-out duration-300"
                    x-transition:enter-start="transform translate-x-full"
                    x-transition:enter-end="transform translate-x-0"
                    x-transition:leave="transition ease-in duration-300"
                    x-transition:leave-start="transform translate-x-0"
                    x-transition:leave-end="transform translate-x-full">

                    <div class="p-6 flex items-center justify-between border-b border-gray-200">
                        <h2 class="text-2xl font-semibold font-serif text-brand-text">Your Cart</h2>
                        <button @click="cartOpen = false"
                            class="text-gray-500 hover:text-brand-primary transition-colors">
                            <i class="fa-solid fa-xmark h-6 w-6"></i></button>
                    </div>

                    <div class="flex-1 overflow-y-auto p-6">
                        <template x-if="$store.cart.items.length === 0">
                            <div class="text-center text-gray-500 mt-20 flex flex-col items-center">
                                <i class="fa-solid fa-bag-shopping h-20 w-20 mx-auto mb-4 text-gray-300"></i>
                                <p class="font-medium">Your cart is empty.</p>
                                <button @click="cartOpen = false; navigate('shop')"
                                    class="mt-4 text-sm text-brand-primary font-medium hover:underline">Continue
                                    Shopping</button>
                            </div>
                        </template>
                        <div class="space-y-5 divide-y divide-gray-100">
                            <template x-for="item in $store.cart.items" :key="item.cartId">
                                <div class="flex items-start gap-4 pt-5 first:pt-0">
                                    <img :src="item.images[0]"
                                        class="h-24 w-24 object-cover rounded-md border border-gray-100 flex-shrink-0">
                                    <div class="flex-1">
                                        <p class="font-semibold text-brand-text mb-1" x-text="item.name"></p>
                                        <template
                                            x-if="item.selectedOptions && Object.keys(item.selectedOptions).length > 0">
                                            <div class="text-xs text-gray-500 mt-1 space-y-0.5">
                                                <template x-for="(value, key) in item.selectedOptions" :key="key">
                                                    <p><span class="font-medium" x-text="key + ':'"></span> <span
                                                            x-text="value"></span></p>
                                                </template>
                                            </div>
                                        </template>
                                        <p class="text-sm text-brand-primary font-medium my-3"
                                            x-text="formatCurrency(item.price)"></p>
                                        <div class="flex items-center justify-between">
                                            <div
                                                class="flex items-center border border-gray-200 rounded-full w-min text-sm">
                                                <button @click="$store.cart.updateQuantity(item.cartId, -1)"
                                                    class="px-3 py-1 text-gray-600 hover:text-brand-primary disabled:opacity-50"
                                                    :disabled="item.quantity <= 1">-</button>
                                                <span class="px-2 font-medium" x-text="item.quantity"></span>
                                                <button @click="$store.cart.updateQuantity(item.cartId, 1)"
                                                    class="px-3 py-1 text-gray-600 hover:text-brand-primary">+</button>
                                            </div>
                                            <button
                                                @click="$store.cart.remove(item.cartId); showToast(`${item.name} removed`, 'success')"
                                                class="text-xs text-red-500 hover:underline">Remove</button>
                                        </div>
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>

                    <div x-show="$store.cart.items.length > 0" class="p-6 border-t border-gray-200 bg-gray-50">
                        <div class="flex justify-between font-semibold text-lg mb-4 text-brand-text">
                            <span>Subtotal</span>
                            <span x-text="formatCurrency($store.cart.total)"></span>
                        </div>
                        <button @click="loginGate(() => { navigate('checkout'); cartOpen = false })"
                            class="w-full bg-brand-primary text-white font-semibold py-3 rounded-full hover:bg-brand-primary-dark transition-colors shadow-md">Proceed
                            to Checkout</button>
                        <p class="text-xs text-gray-500 text-center mt-3">Shipping & taxes calculated at checkout.</p>
                    </div>
                    <div x-show="cartOpen" @keydown.escape.window="cartOpen = false" x-trap.inert.noscroll="cartOpen"
                        style="display: none;">
                        <div @click="cartOpen = false" class="fixed inset-0 bg-black bg-opacity-60 z-[99]"
                            x-show="cartOpen" x-transition:enter="transition-opacity ease-out duration-300"
                            x-transition:enter-start="opacity-0" x-transition:enter-end="opacity-100"
                            x-transition:leave="transition-opacity ease-in duration-300"
                            x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0"></div>

                        <div class="fixed top-0 right-0 h-full w-full max-w-lg bg-white z-[100] shadow-2xl flex flex-col border-l border-gray-200"
                            x-show="cartOpen" x-transition:enter="transition ease-out duration-300"
                            x-transition:enter-start="transform translate-x-full"
                            x-transition:enter-end="transform translate-x-0"
                            x-transition:leave="transition ease-in duration-300"
                            x-transition:leave-start="transform translate-x-0"
                            x-transition:leave-end="transform translate-x-full">

                            <div class="p-6 flex items-center justify-between border-b border-gray-200">
                                <h2 class="text-2xl font-semibold font-serif text-brand-text">Your Cart</h2>
                                <button @click="cartOpen = false"
                                    class="text-gray-500 hover:text-brand-primary transition-colors">
                                    <i class="fa-solid fa-xmark h-6 w-6"></i></button>
                            </div>

                            <div class="flex-1 overflow-y-auto p-6">
                                <template x-if="$store.cart.items.length === 0">
                                    <div class="text-center text-gray-500 mt-20 flex flex-col items-center">
                                        <i class="fa-solid fa-bag-shopping h-20 w-20 mx-auto mb-4 text-gray-300"></i>
                                        <p class="font-medium">Your cart is empty.</p>
                                        <button @click="cartOpen = false; navigate('shop')"
                                            class="mt-4 text-sm text-brand-primary font-medium hover:underline">Continue
                                            Shopping</button>
                                    </div>
                                </template>
                                <div class="space-y-5 divide-y divide-gray-100">
                                    <template x-for="item in $store.cart.items" :key="item.cartId">
                                        <div class="flex items-start gap-4 pt-5 first:pt-0">
                                            <img :src="item.images[0]"
                                                class="h-24 w-24 object-cover rounded-md border border-gray-100 flex-shrink-0">
                                            <div class="flex-1">
                                                <p class="font-semibold text-brand-text mb-1" x-text="item.name"></p>
                                                <template
                                                    x-if="item.selectedOptions && Object.keys(item.selectedOptions).length > 0">
                                                    <div class="text-xs text-gray-500 mt-1 space-y-0.5">
                                                        <template x-for="(value, key) in item.selectedOptions"
                                                            :key="key">
                                                            <p><span class="font-medium" x-text="key + ':'"></span>
                                                                <span x-text="value"></span></p>
                                                        </template>
                                                    </div>
                                                </template>
                                                <p class="text-sm text-brand-primary font-medium my-3"
                                                    x-text="formatCurrency(item.price)"></p>
                                                <div class="flex items-center justify-between">
                                                    <div
                                                        class="flex items-center border border-gray-200 rounded-full w-min text-sm">
                                                        <button @click="$store.cart.updateQuantity(item.cartId, -1)"
                                                            class="px-3 py-1 text-gray-600 hover:text-brand-primary disabled:opacity-50"
                                                            :disabled="item.quantity <= 1">-</button>
                                                        <span class="px-2 font-medium" x-text="item.quantity"></span>
                                                        <button @click="$store.cart.updateQuantity(item.cartId, 1)"
                                                            class="px-3 py-1 text-gray-600 hover:text-brand-primary">+</button>
                                                    </div>
                                                    <button
                                                        @click="$store.cart.remove(item.cartId); showToast(`${item.name} removed`, 'success')"
                                                        class="text-xs text-red-500 hover:underline">Remove</button>
                                                </div>
                                            </div>
                                        </div>
                                    </template>
                                </div>
                            </div>

                            <div x-show="$store.cart.items.length > 0" class="p-6 border-t border-gray-200 bg-gray-50">
                                <div class="flex justify-between font-semibold text-lg mb-4 text-brand-text">
                                    <span>Subtotal</span>
                                    <span x-text="formatCurrency($store.cart.total)"></span>
                                </div>
                                <button @click="loginGate(() => { navigate('checkout'); cartOpen = false })"
                                    class="w-full bg-brand-primary text-white font-semibold py-3 rounded-full hover:bg-brand-primary-dark transition-colors shadow-md">Proceed
                                    to Checkout</button>
                                <p class="text-xs text-gray-500 text-center mt-3">Shipping & taxes calculated at
                                    checkout.</p>
                            </div>
                        </div>
                    </div>

                    <div x-show="productModal.open" @keydown.escape.window="productModal.open = false"
                        x-trap.inert.noscroll="productModal.open" style="display: none;">
                        <div @click="productModal.open = false" class="fixed inset-0 bg-black bg-opacity-60 z-[99]"
                            x-show="productModal.open" x-transition.opacity></div>
                        <div class="fixed inset-0 z-[100] flex items-center justify-center p-4">
                            <div class="bg-white rounded-lg shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col border border-gray-200"
                                @click.stop x-show="productModal.open"
                                x-transition:enter="transition ease-out duration-300"
                                x-transition:enter-start="opacity-0 scale-95"
                                x-transition:enter-end="opacity-100 scale-100"
                                x-transition:leave="transition ease-in duration-200"
                                x-transition:leave-start="opacity-100 scale-100"
                                x-transition:leave-end="opacity-0 scale-95">

                                <div class="p-5 border-b border-gray-200 flex justify-between items-center">
                                    <h3 class="text-xl font-semibold font-serif text-brand-text"
                                        x-text="productModal.id ? 'Edit Product' : 'Add New Product'"></h3>
                                    <button @click="productModal.open = false"
                                        class="text-gray-400 hover:text-gray-600 transition-colors">
                                        <i class="fa-solid fa-xmark h-5 w-5"></i></button>
                                </div>
                                <form @submit.prevent="saveProduct" class="p-6 space-y-5 overflow-y-auto">
                                    <div>
                                        <label class="block text-sm font-medium mb-1 text-gray-700">Product Name</label>
                                        <input type="text" x-model="productModal.data.name" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                    </div>
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                        <div>
                                            <label class="block text-sm font-medium mb-1 text-gray-700">Price
                                                (₹)</label>
                                            <input type="number" x-model.number="productModal.data.price" required
                                                min="0" step="1"
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium mb-1 text-gray-700">Category</label>
                                            <select x-model="productModal.data.category" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm bg-white">
                                                <option>Welcome Sign</option>
                                                <option>Seating Chart</option>
                                                <option>Baby Shower</option>
                                                <option>Birthday Sign</option>
                                                <option>Table Number</option>
                                                <option>Reserved Sign</option>
                                                <option>Menu Cards</option>
                                                <option>Thankyou Cards</option>
                                                <option>Place Cards</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium mb-1 text-gray-700">Description</label>
                                        <textarea x-model="productModal.data.description" rows="3" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm"></textarea>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium mb-1 text-gray-700">Product
                                            Image</label>
                                        <div class="flex items-center gap-4">
                                            <img :src="productModal.data.image || 'https://picsum.photos/100'"
                                                alt="Preview"
                                                class="h-20 w-20 object-cover rounded-md border bg-gray-50">
                                            <input type="file" id="productImageUpload"
                                                @change="handleImageUpload($event)" accept="image/*" class="block w-full text-sm text-gray-500
                      file:mr-4 file:py-2 file:px-4
                      file:rounded-full file:border-0
                      file:text-sm file:font-semibold
                      file:bg-brand-secondary file:text-brand-primary
                      hover:file:bg-gray-200 transition-colors cursor-pointer">
                                        </div>
                                        <template x-if="productModal.uploading">
                                            <p class="text-sm text-blue-600 mt-2">Uploading image, please wait...</p>
                                        </template>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium mb-1 text-gray-700">Status</label>
                                        <select x-model="productModal.data.status" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm bg-white">
                                            <option>In Stock</option>
                                            <option>Low Stock</option>
                                            <option>Out of Stock</option>
                                        </select>
                                    </div>
                                    <div class="pt-4 flex justify-end gap-3 border-t border-gray-200 mt-6">
                                        <button type="button" @click="productModal.open = false"
                                            class="px-5 py-2 rounded-lg border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">Cancel</button>
                                        <button type="submit"
                                            class="bg-brand-primary text-white font-semibold px-6 py-2 rounded-lg text-sm hover:bg-brand-primary-dark transition-colors">Save
                                            Product</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <div x-show="orderModal.open" @keydown.escape.window="orderModal.open = false"
                        x-trap.inert.noscroll="orderModal.open" style="display: none;">
                        <div @click="orderModal.open = false" class="fixed inset-0 bg-black bg-opacity-60 z-[99]"
                            x-show="orderModal.open" x-transition.opacity></div>

                        <div class="fixed inset-0 z-[100] flex items-center justify-center p-4">
                            <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col border border-gray-200"
                                @click.stop x-show="orderModal.open"
                                x-transition:enter="transition ease-out duration-300"
                                x-transition:enter-start="opacity-0 scale-95"
                                x-transition:enter-end="opacity-100 scale-100"
                                x-transition:leave="transition ease-in duration-200"
                                x-transition:leave-start="opacity-100 scale-100"
                                x-transition:leave-end="opacity-0 scale-95">

                                <div class="p-5 border-b border-gray-200 flex justify-between items-center">
                                    <h3 class="text-xl font-semibold font-serif text-brand-text">Order Details</h3>
                                    <button @click="orderModal.open = false"
                                        class="text-gray-400 hover:text-gray-600 transition-colors">
                                        <i class="fa-solid fa-xmark h-5 w-5"></i></button>
                                </div>

                                <div class="p-6 space-y-6 overflow-y-auto">

                                    <template x-if="orderModal.loading">
                                        <div class="flex justify-center items-center min-h-[300px]">
                                            <i class="fa-solid fa-spinner h-8 w-8 animate-spin text-brand-primary"></i>
                                        </div>
                                    </template>

                                    <template x-if="orderModal.data">
                                        <div>
                                            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6">
                                                <div>
                                                    <label class="text-xs text-gray-500">Order ID</label>
                                                    <p class="font-medium text-sm"
                                                        x-text="'#' + orderModal.data._id.substring(0, 7)"></p>
                                                </div>
                                                <div>
                                                    <label class="text-xs text-gray-500">Order Date</label>
                                                    <p class="font-medium text-sm"
                                                        x-text="formatDate(orderModal.data.createdAt)">
                                                    </p>
                                                </div>
                                                <div>
                                                    <label class="text-xs text-gray-500">Total Price</label>
                                                    <p class="font-medium text-sm"
                                                        x-text="formatCurrency(orderModal.data.totalPrice)"></p>
                                                </div>
                                                <div>
                                                    <label class="text-xs text-gray-500">Status</label>
                                                    <p class="font-medium text-sm" x-text="orderModal.data.status"
                                                        :class="{
                                                'text-green-600': orderModal.data.status === 'Delivered',
                                                'text-blue-600': orderModal.data.status === 'Shipped',
                                                'text-yellow-600': orderModal.data.status === 'Pending',
                                                'text-red-600': orderModal.data.status === 'Cancelled'
                                           }"></p>
                                                </div>
                                            </div>

                                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
                                                <div class="bg-gray-50 p-4 rounded-lg border">
                                                    <h4 class="font-semibold mb-2">Customer</h4>
                                                    <p class="text-sm" x-text="orderModal.data.user.name"></p>
                                                    <p class="text-sm text-gray-600"
                                                        x-text="orderModal.data.user.email"></p>
                                                </div>
                                                <div class="bg-gray-50 p-4 rounded-lg border">
                                                    <h4 class="font-semibold mb-2">Shipping Address</h4>
                                                    <address class="text-sm text-gray-600 not-italic">
                                                        <span class="block"
                                                            x-text="`${orderModal.data.shippingAddress.firstName} ${orderModal.data.shippingAddress.lastName}`"></span>
                                                        <span class="block"
                                                            x-text="orderModal.data.shippingAddress.address"></span>
                                                        <span class="block"
                                                            x-text="`${orderModal.data.shippingAddress.city}, ${orderModal.data.shippingAddress.state} ${orderModal.data.shippingAddress.zip}`"></span>
                                                        <span class="block"
                                                            x-text="orderModal.data.shippingAddress.country"></span>
                                                    </address>
                                                </div>
                                            </div>

                                            <div>
                                                <h4 class="font-semibold mb-3">Items Ordered</h4>
                                                <div class="space-y-3 max-h-64 overflow-y-auto border rounded-lg p-3">
                                                    <template x-for="item in orderModal.data.orderItems"
                                                        :key="item._id">
                                                        <div class="flex items-center gap-4 p-2 bg-white rounded">
                                                            <img :src="item.images[0]" alt="Item"
                                                                class="h-16 w-16 object-cover rounded-md border">
                                                            <div class="flex-1">
                                                                <p class="font-medium text-sm" x-text="item.name"></p>
                                                                <template
                                                                    x-if="item.selectedOptions && Object.keys(item.selectedOptions).length > 0">
                                                                    <div class="text-xs text-gray-500 mt-1">
                                                                        <template
                                                                            x-for="(value, key) in item.selectedOptions"
                                                                            :key="key">
                                                                            <p><span class="font-medium"
                                                                                    x-text="key + ':'"></span>
                                                                                <span x-text="value"></span>
                                                                            </p>
                                                                        </template>
                                                                    </div>
                                                                </template>
                                                            </div>
                                                            <div class="text-right">
                                                                <p class="text-sm font-medium"
                                                                    x-text="formatCurrency(item.price)">
                                                                </p>
                                                                <p class="text-xs text-gray-500"
                                                                    x-text="`Qty: ${item.quantity}`">
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </template>
                                                </div>
                                            </div>

                                        </div>
                                    </template>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div x-show="addressModal.open" @keydown.escape.window="addressModal.open = false"
                        x-trap.inert.noscroll="addressModal.open" style="display: none;">
                        <div @click="addressModal.open = false" class="fixed inset-0 bg-black bg-opacity-60 z-[99]"
                            x-show="addressModal.open" x-transition.opacity></div>

                        <div class="fixed inset-0 z-[100] flex items-center justify-center p-4">
                            <form @submit.prevent="saveAddress"
                                class="bg-white rounded-lg shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col border border-gray-200"
                                @click.stop x-show="addressModal.open"
                                x-transition:enter="transition ease-out duration-300"
                                x-transition:enter-start="opacity-0 scale-95"
                                x-transition:enter-end="opacity-100 scale-100"
                                x-transition:leave="transition ease-in duration-200"
                                x-transition:leave-start="opacity-100 scale-100"
                                x-transition:leave-end="opacity-0 scale-95">

                                <div class="p-5 border-b border-gray-200 flex justify-between items-center">
                                    <h3 class="text-xl font-semibold font-serif text-brand-text">Add New Address</h3>
                                    <button type="button" @click="addressModal.open = false"
                                        class="text-gray-400 hover:text-gray-600 transition-colors">
                                        <i class="fa-solid fa-xmark h-5 w-5"></i></button>
                                </div>

                                <div class="p-6 space-y-5 overflow-y-auto">
                                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-5">
                                        <div>
                                            <label class="block text-sm font-medium mb-1 text-gray-700">First
                                                Name</label>
                                            <input type="text" x-model="addressModal.data.firstName" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium mb-1 text-gray-700">Last
                                                Name</label>
                                            <input type="text" x-model="addressModal.data.lastName" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium mb-1 text-gray-700">Address</label>
                                        <input type="text" placeholder="Street, Apt, etc."
                                            x-model="addressModal.data.address" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                    </div>
                                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-5">
                                        <div>
                                            <label class="block text-sm font-medium mb-1 text-gray-700">City</label>
                                            <input type="text" x-model="addressModal.data.city" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium mb-1 text-gray-700">State /
                                                Province</label>
                                            <input type="text" x-model="addressModal.data.state" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                        </div>
                                        <div>
                                            <label class="block text-sm font-medium mb-1 text-gray-700">ZIP / Postal
                                                Code</label>
                                            <input type="text" x-model="addressModal.data.zip" required
                                                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium mb-1 text-gray-700">Country</label>
                                        <input type="text" x-model="addressModal.data.country" required
                                            class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-brand-primary focus:border-brand-primary text-sm">
                                    </div>
                                </div>

                                <div class="p-4 flex justify-end gap-3 border-t border-gray-200 bg-gray-50">
                                    <button type="button" @click="addressModal.open = false"
                                        class="px-5 py-2 rounded-lg border border-gray-300 text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors">Cancel</button>
                                    <button type="submit"
                                        class="bg-brand-primary text-white font-semibold px-6 py-2 rounded-lg text-sm hover:bg-brand-primary-dark transition-colors">Save
                                        Address</button>
                                </div>
                            </form>
                        </div>
                    </div>


                    <div x-show="quickViewModal.open" @keydown.escape.window="quickViewModal.open = false"
                        x-trap.inert.noscroll="quickViewModal.open" style="display: none;">
                        <div @click="quickViewModal.open = false" class="fixed inset-0 bg-black bg-opacity-60 z-[99]"
                            x-show="quickViewModal.open" x-transition.opacity></div>

                        <div class="fixed inset-0 z-[100] flex items-center justify-center p-4">
                            <div class="relative bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col md:flex-row border border-gray-200 overflow-y-auto"
                                @click.stop x-show="quickViewModal.open"
                                x-transition:enter="transition ease-out duration-300"
                                x-transition:enter-start="opacity-0 scale-95"
                                x-transition:enter-end="opacity-100 scale-100"
                                x-transition:leave="transition ease-in duration-200"
                                x-transition:leave-start="opacity-100 scale-100"
                                x-transition:leave-end="opacity-0 scale-95">

                                <button @click="quickViewModal.open = false"
                                    class="absolute top-4 right-4 z-10 text-gray-400 hover:text-gray-600 transition-colors">
                                    <i class="fa-solid fa-xmark h-6 w-6"></i>
                                </button>

                                <div
                                    class="w-full md:w-1/2 flex-shrink-0 bg-gray-100 rounded-t-lg md:rounded-l-lg md:rounded-t-none overflow-hidden">
                                    <img :src="quickViewModal.product ? quickViewModal.product.images[0] : ''"
                                        :alt="quickViewModal.product ? quickViewModal.product.name : 'Product'"
                                        class="w-full h-full object-cover">
                                </div>

                                <div class="w-full md:w-1/2 p-6 md:p-8 flex flex-col overflow-y-auto">
                                    <h2 class="font-serif text-3xl font-bold mb-2"
                                        x-text="quickViewModal.product ? quickViewModal.product.name : 'Loading...'">
                                    </h2>
                                    <p class="text-2xl font-serif text-brand-primary mb-4"
                                        x-text="quickViewModal.product ? formatCurrency(quickViewModal.product.price) : ''">
                                    </p>

                                    <p class="text-gray-600 text-sm mb-6"
                                        x-text="quickViewModal.product ? quickViewModal.product.description.substring(0, 150) + '...' : ''">
                                    </p>

                                    <div class="space-y-4 mt-auto">
                                        <button
                                            @click="quickViewModal.product && loginGate(() => { $store.cart.add(quickViewModal.product, 1, quickViewModal.product.options ? Object.fromEntries(quickViewModal.product.options.map(opt => [opt.name, opt.values[0]])) : {}); showToast(`${quickViewModal.product.name} added to cart!`, 'success'); quickViewModal.open = false; })"
                                            class="w-full flex items-center justify-center gap-2 bg-brand-primary text-white font-semibold py-3 px-6 rounded-full shadow-lg hover:bg-brand-primary-dark transition-colors">
                                            <i class="fa-solid fa-bag-shopping h-5 w-5"></i> Add to Cart
                                        </button>
                                        <button
                                            @click="quickViewModal.product && viewProduct(quickViewModal.product); quickViewModal.open = false"
                                            class="w-full text-center bg-brand-secondary text-brand-primary font-semibold py-3 px-6 rounded-full hover:bg-gray-200 transition-colors">
                                            View Full Details
                                        </button>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>

                    <div x-show="showLoginModal" @keydown.escape.window="showLoginModal = false"
                        x-trap.inert.noscroll="showLoginModal" style="display: none;">
                        <div @click="showLoginModal = false" class="fixed inset-0 bg-black bg-opacity-60 z-[99]"
                            x-show="showLoginModal" x-transition.opacity></div>

                        <div class="fixed inset-0 z-[100] flex items-center justify-center p-4">
                            <div class="bg-white rounded-lg shadow-2xl w-full max-w-md border border-gray-200"
                                @click.stop x-show="showLoginModal"
                                x-transition:enter="transition ease-out duration-300"
                                x-transition:enter-start="opacity-0 scale-95"
                                x-transition:enter-end="opacity-100 scale-100"
                                x-transition:leave="transition ease-in duration-200"
                                x-transition:leave-start="opacity-100 scale-100"
                                x-transition:leave-end="opacity-0 scale-95">

                                <div class="p-6 md:p-8">
                                    <div class="flex justify-between items-center mb-6">
                                        <h2 class="font-serif text-3xl font-bold text-brand-text">Login Required</h2>
                                        <button @click="showLoginModal = false"
                                            class="text-gray-400 hover:text-gray-600 transition-colors">
                                            <i class="fa-solid fa-xmark h-5 w-5"></i>
                                        </button>
                                    </div>
                                    <p class="text-gray-600 mb-6 text-sm">You must be logged in to add items to your
                                        cart or check
                                        out. Please log in to continue.</p>

                                    <form @submit.prevent="$store.auth.login(loginForm.email, loginForm.password)"
                                        class="space-y-5">
                                        <div class="relative">
                                            <label for="modal-login-email"
                                                class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Email
                                                Address</label>
                                            <input id="modal-login-email" type="email" x-model="loginForm.email"
                                                required placeholder="you@example.com"
                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                        </div>
                                        <div class="relative">
                                            <label for="modal-login-password"
                                                class="absolute -top-2 left-3 bg-white px-1 text-xs text-gray-500">Password</label>
                                            <input id="modal-login-password" type="password"
                                                x-model="loginForm.password" required placeholder="••••••••"
                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-brand-primary/50 focus:border-brand-primary transition pt-4">
                                        </div>
                                        <button type="submit"
                                            class="w-full bg-brand-primary text-white font-semibold py-3 rounded-full hover:bg-brand-primary-dark transform hover:scale-[1.02] transition-all shadow-md">Sign
                                            In</button>
                                        <p class="text-center text-sm text-gray-600">
                                            Don't have an account?
                                            <a href="#" @click.prevent="navigate('login'); showLoginModal = false"
                                                class="font-medium text-brand-primary hover:underline">Register here</a>
                                        </p>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>


                    <footer class="bg-white text-brand-text mt-20 border-t border-gray-100">
                        <div class="py-16 bg-brand-secondary">
                            <div class="container mx-auto px-4 text-center" data-aos="fade-up">
                                <i
                                    class="fa-solid fa-envelope-open-text h-10 w-10 mx-auto text-brand-primary mb-4 opacity-80"></i>
                                <h2 class="font-serif text-3xl font-bold mb-2">Stay Inspired</h2>
                                <p class="text-gray-600 mb-8 max-w-lg mx-auto text-sm leading-relaxed">Join our
                                    newsletter for
                                    exclusive offers, new arrivals, and event inspiration delivered to your inbox.</p>
                                <form @submit.prevent="showToast('Thank you for subscribing!', 'success')"
                                    class="flex justify-center max-w-md mx-auto shadow-sm rounded-full border border-gray-200 overflow-hidden bg-white">
                                    <input type="email" required placeholder="Enter your email address"
                                        class="w-full px-5 py-3 border-none focus:outline-none focus:ring-2 focus:ring-brand-primary/30 text-sm rounded-full">
                                    <p class="text-gray-600 mb-8 max-w-lg mx-auto text-sm leading-relaxed">Join our
                                        newsletter for
                                        exclusive offers, new arrivals, and event inspiration delivered to your inbox.
                                    </p>
                                    <form @submit.prevent="showToast('Thank you for subscribing!', 'success')"
                                        class="flex justify-center max-w-md mx-auto shadow-sm rounded-full border border-gray-200 overflow-hidden bg-white">
                                        <input type="email" required placeholder="Enter your email address"
                                            class="w-full px-5 py-3 border-none focus:outline-none focus:ring-2 focus:ring-brand-primary/30 text-sm rounded-full">
                                        <button type="submit"
                                            class="bg-brand-primary text-white font-semibold px-6 py-3 hover:bg-brand-primary-dark transition-colors whitespace-nowrap text-sm rounded-r-full">Subscribe</button>
                                        class="bg-brand-primary text-white font-semibold px-6 py-3
                                        hover:bg-brand-primary-dark transition-colors whitespace-nowrap text-sm
                                        rounded-r-full">Subscribe</button>
                                    </form>
                            </div>
                        </div>

                        <div class="container mx-auto px-4 py-16">
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10">
                                <div class="container mx-auto px-4 py-16">
                                    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-10">
                                        <div>
                                            <h3 class="font-serif text-2xl font-bold text-brand-primary mb-4">Crafting
                                                Sign</h3>
                                            <p class="text-gray-500 text-sm mb-4 leading-relaxed">Unique, handcrafted
                                                décor that reflects
                                                your personality and style.</p>
                                            <address class="text-gray-500 text-sm not-italic leading-relaxed mb-6">
                                                PLOT NO.121 KHANCHAN VIHAR,<br>
                                                BENAR ROAD, JAIPUR, RAJASTHAN, 302012<br>
                                                <a href="tel:+919079199046"
                                                    class="mt-2 block hover:text-brand-primary">+91 9079199046</a>
                                                <a href="mailto:contact@craftingsign.com"
                                                    class="block hover:text-brand-primary">contact@craftingsign.com</a>
                                            </address>
                                            <h3 class="font-serif text-2xl font-bold text-brand-primary mb-4">Crafting
                                                Sign</h3>
                                            <p class="text-gray-500 text-sm mb-4 leading-relaxed">Unique, handcrafted
                                                décor that reflects
                                                your personality and style.</p>
                                            <address class="text-gray-500 text-sm not-italic leading-relaxed mb-6">
                                                PLOT NO.121 KHANCHAN VIHAR,<br>
                                                BENAR ROAD, JAIPUR, RAJASTHAN, 302012<br>
                                                <a href="tel:+919079199046"
                                                    class="mt-2 block hover:text-brand-primary">+91 9079199046</a>
                                                <a href="mailto:contact@craftingsign.com"
                                                    class="block hover:text-brand-primary">contact@craftingsign.com</a>
                                            </address>
                                            <div class="flex space-x-4">
                                                <a href="#"
                                                    class="text-gray-400 hover:text-brand-primary transition-colors"><i
                                                        class="fa-brands fa-instagram h-5 w-5"></i></a>
                                                <a href="#"
                                                    class="text-gray-400 hover:text-brand-primary transition-colors"><i
                                                        class="fa-brands fa-facebook h-5 w-5"></i></a>
                                                <a href="#"
                                                    class="text-gray-400 hover:text-brand-primary transition-colors"><i
                                                        class="fa-brands fa-pinterest h-5 w-5"></i></a>
                                                <a href="#"
                                                    class="text-gray-400 hover:text-brand-primary transition-colors"><i
                                                        class="fa-brands fa-instagram h-5 w-5"></i></a>
                                                <a href="#"
                                                    class="text-gray-400 hover:text-brand-primary transition-colors"><i
                                                        class="fa-brands fa-facebook h-5 w-5"></i></a>
                                                <a href="#"
                                                    class="text-gray-400 hover:text-brand-primary transition-colors"><i
                                                        class="fa-brands fa-pinterest h-5 w-5"></i></a>
                                            </div>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg mb-4 tracking-wide">Quick Links</h3>
                                            <ul class="space-y-3 text-sm">
                                                <li><a href="#" @click.prevent="scrollTo('about')"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">About
                                                        Us</a></li>
                                                <li><a href="#" @click.prevent="navigate('shop')"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">Collections</a>
                                                    <h3 class="font-semibold text-lg mb-4 tracking-wide">Quick Links
                                                    </h3>
                                                    <ul class="space-y-3 text-sm">
                                                        <li><a href="#" @click.prevent="scrollTo('about')"
                                                                class="text-gray-500 hover:text-brand-primary transition-colors">About
                                                                Us</a></li>
                                                        <li><a href="#" @click.prevent="navigate('shop')"
                                                                class="text-gray-500 hover:text-brand-primary transition-colors">Collections</a>
                                                        </li>
                                                        <li><a href="#" @click.prevent="scrollTo('contact')"
                                                                class="text-gray-500 hover:text-brand-primary transition-colors">Custom
                                                                Orders</a>
                                                        <li><a href="#" @click.prevent="scrollTo('contact')"
                                                                class="text-gray-500 hover:text-brand-primary transition-colors">Custom
                                                                Orders</a>
                                                        </li>
                                                        <li><a href="#" @click.prevent="navigate('account')"
                                                                class="text-gray-500 hover:text-brand-primary transition-colors">My
                                                                Account</a>
                                                        <li><a href="#" @click.prevent="navigate('account')"
                                                                class="text-gray-500 hover:text-brand-primary transition-colors">My
                                                                Account</a>
                                                        </li>
                                                    </ul>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg mb-4 tracking-wide">Shop</h3>
                                            <ul class="space-y-3 text-sm">
                                                <li><a href="#"
                                                        @click.prevent="activeCategory = 'Welcome Sign'; navigate('shop')"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">Welcome
                                                        Signs</a></li>
                                                <li><a href="#"
                                                        @click.prevent="activeCategory = 'Seating Chart'; navigate('shop')"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">Seating
                                                        Charts</a></li>
                                                <li><a href="#"
                                                        @click.prevent="activeCategory = 'Baby Shower'; navigate('shop')"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">Baby
                                                        Shower Signs</a></li>
                                                <li><a href="#"
                                                        @click.prevent="activeCategory = 'Menu Cards'; navigate('shop')"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">Menu
                                                        Cards</a></li>
                                                <li><a href="#"
                                                        @click.prevent="activeCategory = 'Place Cards'; navigate('shop')"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">Place
                                                        Cards</a></li>
                                                <h3 class="font-semibold text-lg mb-4 tracking-wide">Shop</h3>
                                                <ul class="space-y-3 text-sm">
                                                    <li><a href="#"
                                                            @click.prevent="activeCategory = 'Welcome Sign'; navigate('shop')"
                                                            class="text-gray-500 hover:text-brand-primary transition-colors">Welcome
                                                            Signs</a></li>
                                                    <li><a href="#"
                                                            @click.prevent="activeCategory = 'Seating Chart'; navigate('shop')"
                                                            class="text-gray-500 hover:text-brand-primary transition-colors">Seating
                                                            Charts</a></li>
                                                    <li><a href="#"
                                                            @click.prevent="activeCategory = 'Baby Shower'; navigate('shop')"
                                                            class="text-gray-500 hover:text-brand-primary transition-colors">Baby
                                                            Shower Signs</a></li>
                                                    <li><a href="#"
                                                            @click.prevent="activeCategory = 'Menu Cards'; navigate('shop')"
                                                            class="text-gray-500 hover:text-brand-primary transition-colors">Menu
                                                            Cards</a></li>
                                                    <li><a href="#"
                                                            @click.prevent="activeCategory = 'Place Cards'; navigate('shop')"
                                                            class="text-gray-500 hover:text-brand-primary transition-colors">Place
                                                            Cards</a></li>
                                                </ul>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg mb-4 tracking-wide">Support</h3>
                                            <ul class="space-y-3 text-sm">
                                                <li><a href="mailto:contact@craftingsign.com"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">Contact
                                                        Us</a></li>
                                                <li><a href="#"
                                                        class="text-gray-500 hover:text-brand-primary transition-colors">Shipping
                                                        &
                                                        <h3 class="font-semibold text-lg mb-4 tracking-wide">Support
                                                        </h3>
                                                        <ul class="space-y-3 text-sm">
                                                            <li><a href="mailto:contact@craftingsign.com"
                                                                    class="text-gray-500 hover:text-brand-primary transition-colors">Contact
                                                                    Us</a></li>
                                                            <li><a href="#"
                                                                    class="text-gray-500 hover:text-brand-primary transition-colors">Shipping
                                                                    &
                                                                    Returns</a></li>
                                                            <li><a href="#"
                                                                    class="text-gray-500 hover:text-brand-primary transition-colors">Privacy
                                                                    Policy</a></li>
                                                            <li><a href="#"
                                                                    class="text-gray-500 hover:text-brand-primary transition-colors">Terms
                                                                    of
                                                                    Service</a></li>
                                                            <li><a href="#"
                                                                    class="text-gray-500 hover:text-brand-primary transition-colors">Privacy
                                                                    Policy</a></li>
                                                            <li><a href="#"
                                                                    class="text-gray-500 hover:text-brand-primary transition-colors">Terms
                                                                    of
                                                                    Service</a></li>
                                                        </ul>
                                        </div>
                                    </div>
                                </div>

                                <div class="bg-gray-50 py-5 border-t border-gray-200">
                                    <div class="bg-gray-50 py-5 border-t border-gray-200">
                                        <div
                                            class="container mx-auto px-4 flex flex-col sm:flex-row justify-between items-center text-xs text-gray-500">
                                            <p>&copy; 2025 Crafting Sign. All rights reserved.</p>
                                            <div class="flex items-center gap-1 mt-4 sm:mt-0">
                                                <span>Payments Secured by</span>
                                                <i class="fa-solid fa-shield-halved h-4 w-4 text-green-600"></i>
                                                class="container mx-auto px-4 flex flex-col sm:flex-row justify-between
                                                items-center text-xs text-gray-500">
                                                <p>&copy; 2025 Crafting Sign. All rights reserved.</p>
                                                <div class="flex items-center gap-1 mt-4 sm:mt-0">
                                                    <span>Payments Secured by</span>
                                                    <i class="fa-solid fa-shield-halved h-4 w-4 text-green-600"></i>
                                                </div>
                                            </div>
                                        </div>
                    </footer>

                </div>

                <script src="https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.x.x/dist/cdn.min.js" defer></script>
                <script src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js" defer></script>
                <script src="https://cdn.jsdelivr.net/npm/@alpinejs/focus@3.x.x/dist/cdn.min.js" defer></script>
                <script src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js" defer></script>
                <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

                <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
                <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>


                <!-- <script>
        const MOCK_PRODUCTS = [
            {
                id: 1, name: 'Minimalist Acrylic Welcome Sign', price: 4800,
                images: ['https://picsum.photos/600/600?random=1&category=wedding', 'https://picsum.photos/600/600?random=2&category=wedding', 'https://picsum.photos/600/600?random=3&category=wedding'],
                category: 'Welcome Sign',
                description: 'A beautiful, modern acrylic welcome sign to greet your guests. Features 3D lettering for a stunning effect. Fully customizable with your names and event date. Stand not included.',
                status: 'In Stock',
                options: [{ name: 'Size', values: ['18x24"', '24x36"'] }, { name: 'Lettering Color', values: ['White', 'Black', 'Gold', 'Silver'] }],
                reviews: [{ rating: 5, user: 'Priya S.', comment: 'Absolutely stunning! It was the perfect entrance piece for our wedding.' }]
            },
            {
                id: 2, name: 'Elegant Frosted Seating Chart', price: 9500,
                images: ['https://picsum.photos/600/600?random=4&category=event', 'https://picsum.photos/600/600?random=5&category=event'],
                category: 'Seating Chart',
                description: 'A large, frosted acrylic seating chart that adds a touch of class to any reception. We will work with you to finalize your guest list and layout. Can accommodate up to 200 guests.',
                status: 'In Stock',
                options: [{ name: 'Style', values: ['Frosted', 'Clear', 'Painted Back'] }, { name: 'Orientation', values: ['Portrait', 'Landscape'] }],
                reviews: [{ rating: 5, user: 'Emily R.', comment: 'So elegant. We received so many compliments on it.' }]
            },
            {
                id: 3, name: '"Oh Baby" Baby Shower Sign', price: 3500,
                images: ['https://picsum.photos/600/600?random=6&category=party', 'https://picsum.photos/600/600?random=7&category=party'],
                category: 'Baby Shower',
                description: 'The perfect backdrop piece for a baby shower. This "Oh Baby" sign is crafted from premium acrylic with beautiful script lettering. Can be customized with the baby\'s name or due date.',
                status: 'In Stock',
                options: [{ name: 'Color Theme', values: ['Neutral (Beige/White)', 'Baby Blue', 'Baby Pink', 'Sage Green'] }],
                reviews: [{ rating: 5, user: 'David L.', comment: 'A true work of art. It was the centerpiece of our decor.' }]
            },
            {
                id: 4, name: 'Modern Birthday Welcome Sign', price: 3200,
                images: ['https://picsum.photos/600/600?random=8&category=birthday', 'https://picsum.photos/600/600?random=9&category=birthday'],
                category: 'Birthday Sign',
                description: 'Celebrate in style! This custom birthday sign is perfect for milestone birthdays (18th, 21st, 30th, 50th). Features a modern layout with the name and age.',
                status: 'In Stock',
                options: [{ name: 'Shape', values: ['Arch', 'Rectangle', 'Circle'] }, { name: 'Finish', values: ['Matte Black', 'Matte White', 'Blush Pink'] }],
                reviews: [{ rating: 5, user: 'Chen W.', comment: 'Bold and beautiful. My daughter loved it for her 21st!' }]
            },
            {
                id: 5, name: 'Acrylic Table Numbers (Set of 10)', price: 4100,
                images: ['https://picsum.photos/600/600?random=10&category=table', 'https://picsum.photos/600/600?random=11&category=table'],
                category: 'Table Number',
                description: 'A set of 10 minimalist acrylic table numbers with stands. Clear acrylic with vinyl or 3D lettering. Helps your guests find their table with ease and style.',
                status: 'In Stock',
                options: [{ name: 'Lettering', values: ['White Vinyl', 'Black Vinyl', 'Gold 3D Acrylic'] }, { name: 'Stand Color', values: ['Clear', 'Wood', 'Gold'] }],
                reviews: [{ rating: 5, user: 'Michelle B.', comment: 'So chic and matched our theme perfectly.' }]
            },
            {
                id: 6, name: 'Arch Reserved Sign', price: 1200,
                images: ['https://picsum.photos/600/600?random=12&category=sign', 'https://picsum.photos/600/600?random=13&category=sign'],
                category: 'Reserved Sign',
                description: 'A small, elegant arch-shaped "Reserved" sign for ceremony chairs or special tables. Includes a silk ribbon. Price is per sign.',
                status: 'In Stock',
                options: [{ name: 'Ribbon Color', values: ['White', 'Black', 'Dusty Blue', 'None'] }],
                reviews: []
            },
            {
                id: 7, name: 'Minimalist Menu Cards (Set of 25)', price: 3800,
                images: ['https://picsum.photos/600/600?random=14&category=menu', 'https://picsum.photos/600/600?random=15&category=menu'],
                category: 'Menu Cards',
                description: 'A set of 25 beautifully designed menu cards, printed on high-quality vellum or thick cardstock. We will customize the text to match your event\'s menu.',
                status: 'In Stock',
                options: [{ name: 'Material', values: ['Vellum', 'White Cardstock', 'Black Cardstock'] }, { name: 'Print Color', values: ['Black', 'White', 'Gold Foil'] }],
                reviews: [{ rating: 5, user: 'Jessica P.', comment: 'So glamorous! The gold foil was perfect.' }]
            },
            {
                id: 8, name: 'Acrylic Place Cards (Set of 10)', price: 2000,
                images: ['https://picsum.photos/600/600?random=16&category=name', 'https://picsum.photos/600/600?random=17&category=name'],
                category: 'Place Cards',
                description: 'A set of 10 personalized acrylic place cards with your guests\' names. A beautiful keepsake for your attendees. Please provide name list after checkout.',
                status: 'In Stock',
                options: [{ name: 'Style', values: ['Clear', 'Frosted'] }, { name: 'Ink Color', values: ['White', 'Black', 'Gold'] }],
                reviews: []
            },
            {
                id: 9, name: 'Frosted Thank You Cards (Set of 25)', price: 2500,
                images: ['https://picsum.photos/600/600?random=18&category=card', 'https://picsum.photos/600/600?random=19&category=card'],
                category: 'Thankyou Cards',
                description: 'A set of 25 unique frosted acrylic thank you cards. A memorable way to thank your guests for celebrating with you. Envelopes included.',
                status: 'In Stock',
                options: [{ name: 'Size', values: ['A2 (4.25x5.5")', 'A7 (5x7")'] }],
                reviews: []
            },
            {
                id: 10, name: 'Round Welcome Sign (Floral)', price: 5200,
                images: ['https://picsum.photos/600/600?random=20&category=floral', 'https://picsum.photos/600/600?random=21&category=floral'],
                category: 'Welcome Sign',
                description: 'A stunning round welcome sign with a painted back and 3D acrylic lettering. Perfect for a garden wedding or floral-themed baby shower.',
                status: 'In Stock',
                options: [{ name: 'Diameter', values: ['24"', '30"'] }, { name: 'Painted Back Color', values: ['Blush Pink', 'Dusty Blue', 'White'] }],
                reviews: [{ rating: 5, user: 'Sarah K.', comment: 'Absolutely perfect for my sister\'s shower.' }]
            }
        ];


        document.addEventListener('alpine:init', () => {

            Alpine.store('cart', {
                items: [],
                init() {
                    const savedCart = localStorage.getItem('artistryCart');
                    if (savedCart) {
                        this.items = JSON.parse(savedCart);
                    }
                    Alpine.effect(() => {
                        localStorage.setItem('artistryCart', JSON.stringify(this.items));
                    });
                },
                add(product, quantity = 1, options = {}) {
                    const cartId = product.id + '-' + Object.values(options).sort().join('-');
                    const existingItem = this.items.find(item => item.cartId === cartId);

                    if (existingItem) {
                        existingItem.quantity += quantity;
                    } else {
                        this.items.push({
                            ...product,
                            quantity: quantity,
                            selectedOptions: options,
                            cartId: cartId
                        });
                    }
                },
                remove(cartId) {
                    this.items = this.items.filter(item => item.cartId !== cartId);
                },
                updateQuantity(cartId, change) {
                    const item = this.items.find(i => i.cartId === cartId);
                    if (item) {
                        item.quantity += change;
                        if (item.quantity <= 0) {
                            this.remove(cartId);
                        }
                    }
                },
                get total() {
                    return this.items.reduce((total, item) => total + item.price * item.quantity, 0);
                },
                get count() {
                    return this.items.length;
                }
            });

            Alpine.store('auth', {
                user: null,
                token: null,
                init() {
                    const savedUser = localStorage.getItem('artistryUser');
                    if (savedUser) {
                        this.user = JSON.parse(savedUser);
                    }
                    Alpine.effect(() => {
                        if (this.user) {
                            localStorage.setItem('artistryUser', JSON.stringify(this.user));
                        } else {
                            localStorage.removeItem('artistryUser');
                        }
                    });
                },

                async login(email, password) {
                    const app = Alpine.store('app');
                    console.log('Attempting login:', email);
                    const foundUser = this.users.find(u => u.email === email && u.password === password);

                    if (foundUser) {
                        this.user = { name: foundUser.name, email: foundUser.email, role: foundUser.role };
                        app.showToast(`Welcome back, ${foundUser.name.split(' ')[0]}!`, 'success');

                        if (app.postLoginAction) {
                            app.postLoginAction();
                            app.postLoginAction = null;
                            app.showLoginModal = false;
                        } else {
                            app.navigate(this.user.role === 'admin' ? 'admin' : 'account');
                        }
                        app.loginForm = { email: '', password: '' };
                    } else {
                        app.showToast('Invalid email or password.', 'error');
                    }
                },
                register(name, email, password) {
                    const app = Alpine.store('app');
                    console.log('Attempting register:', name, email);
                    if (!name || !email || !password) {
                        app.showToast('Please fill all registration fields.', 'error');
                        return;
                    }
                    const existingUser = this.users.find(u => u.email === email);
                    if (existingUser) {
                        app.showToast('Email already registered.', 'error');
                        return;
                    }
                    const newUser = {
                        email: email,
                        password: password,
                        name: name,
                        role: 'customer'
                    };
                    this.users.push(newUser);
                    app.showToast('Account created successfully! Please login.', 'success');
                    app.loginTab = 'login';
                    app.registerForm = { name: '', email: '', password: '' };
                },
                logout() {
                    this.user = null;
                    Alpine.store('app').showToast('You have been logged out.', 'success');
                    Alpine.store('app').navigate('home');
                }
            });

            Alpine.data('craftingSignApp', () => ({
                view: 'home',
                mobileMenuOpen: false,
                cartOpen: false,
                filterMenuOpen: false,
                loginTab: 'login',
                currentSlide: 0,
                currentProduct: null,
                products: [],
                mainImage: '',
                selectedOptions: {},
                currentCurrency: { code: 'INR', symbol: '₹' },
                activeCategory: 'All',
                sortBy: 'default',

                quickViewModal: { open: false, product: null },
                showLoginModal: false,
                postLoginAction: null,

                loginForm: { email: '', password: '' },
                registerForm: { name: '', email: '', password: '' },

                productModal: {
                    open: false,
                    id: null,
                    data: { name: '', price: 0, category: 'Welcome Sign', description: '', image: '', status: 'In Stock' }
                },

                toast: {
                    visible: false,
                    message: '',
                    type: 'success',
                    timeout: null
                },

                heroSlides: [
                    { image: 'https://picsum.photos/1920/1080?random=101&blur=1&category=wedding', title: 'Make Your Moments Memorable', subtitle: 'Custom acrylic welcome signs, seating charts, and event décor, handmade with love.', buttonText: 'Shop Collections' },
                    { image: 'https://picsum.photos/1920/1080?random=102&blur=1&category=event', title: 'Elegant Event Signage', subtitle: 'From weddings to baby showers, add a personal and elegant touch to every occasion.', buttonText: 'View All Signs' },
                    { image: 'https://picsum.photos/1920/1080?random=103&blur=1&category=party', title: 'Your Vision, Brought to Life', subtitle: 'We offer worldwide shipping and full custom designs to create exactly what you imagine.', buttonText: 'Request Custom Art' }
                ],

                get allCategories() {
                    const categories = this.products.map(p => p.category);
                    return ['All', ...new Set(categories)];
                },

                get filteredProducts() {
                    const currency = this.currentCurrency;
                    let products = [...this.products];

                    if (this.activeCategory !== 'All') {
                        products = products.filter(p => p.category === this.activeCategory);
                    }

                    switch (this.sortBy) {
                        case 'price-asc': products.sort((a, b) => a.price - b.price); break;
                        case 'price-desc': products.sort((a, b) => b.price - a.price); break;
                        case 'name-asc': products.sort((a, b) => a.name.localeCompare(b.name)); break;
                        case 'name-desc': products.sort((a, b) => b.name.localeCompare(a.name)); break;
                    }
                    return products;
                },

                async fetchProducts() {
                    try {
                        this.products = MOCK_PRODUCTS;
                    } catch (error) {
                        console.error('Failed to load mock products:', error);
                        this.showToast('Error: Could not load products.', 'error');
                    }
                },

                async init() {
                    Alpine.store('app', this);
                    Alpine.store('cart').init();
                    Alpine.store('auth').init();
                    await this.fetchProducts();
                    AOS.init({ duration: 800, once: true });
                    setInterval(() => {
                        this.currentSlide = (this.currentSlide + 1) % this.heroSlides.length;
                    }, 6000);
                },

                initSwiper() {
                    new Swiper('.featured-gallery', {
                        loop: true,
                        slidesPerView: 2,
                        spaceBetween: 16,
                        pagination: {
                            el: '.swiper-pagination',
                            clickable: true,
                        },
                        navigation: {
                            nextEl: '.swiper-button-next',
                            prevEl: '.swiper-button-prev',
                        },
                        breakpoints: {
                            640: {
                                slidesPerView: 2,
                                spaceBetween: 20,
                            },
                            768: {
                                slidesPerView: 3,
                                spaceBetween: 24,
                            },
                            1024: {
                                slidesPerView: 4,
                                spaceBetween: 24,
                            },
                        },
                    });
                },
                showToast(message, type = 'success', duration = 3000) {
                    clearTimeout(this.toast.timeout);
                    this.toast.message = message;
                    this.toast.type = type;
                    this.toast.visible = true;
                    this.toast.timeout = setTimeout(() => this.toast.visible = false, duration);
                },

                navigate(newView) {
                    this.view = newView;
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                    this.mobileMenuOpen = false;
                },

                scrollTo(elementId) {
                    if (['about', 'products', 'gallery', 'contact'].includes(elementId) && this.view !== 'home') {
                        this.navigate('home');
                        this.$nextTick(() => {
                            document.getElementById(elementId)?.scrollIntoView({ behavior: 'smooth', block: 'start' });
                        });
                    } else {
                        document.getElementById(elementId)?.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }
                    this.mobileMenuOpen = false;
                },


                loginGate(actionCallback) {
                    if (this.$store.auth.user) {
                        actionCallback();
                    } else {
                        this.postLoginAction = actionCallback;
                        this.showLoginModal = true;
                    }
                },

                openQuickViewModal(product) {
                    this.quickViewModal.product = product;
                    this.quickViewModal.open = true;
                },

                formatCurrency(amount) {
                    const options = {
                        style: 'currency',
                        currency: this.currentCurrency.code,
                        minimumFractionDigits: 2
                    };
                    let locale = 'en-IN';
                    if (this.currentCurrency.code === 'USD') locale = 'en-US';
                    if (this.currentCurrency.code === 'EUR') locale = 'de-DE';
                    if (this.currentCurrency.code === 'CAD') locale = 'en-CA';

                    return new Intl.NumberFormat(locale, options).format(amount);
                },

                viewProduct(product) {
                    this.currentProduct = { ...product, quantity: product.quantity || 1 };
                    this.mainImage = this.currentProduct.images[0];
                    this.selectedOptions = {};
                    if (this.currentProduct.options) {
                        this.currentProduct.options.forEach(opt => {
                            this.selectedOptions[opt.name] = opt.values[0];
                        });
                    }
                    this.navigate('product');
                },

                openProductModal(product = null) {
                    if (product) {
                        this.productModal.id = product.id;
                        this.productModal.data = {
                            ...JSON.parse(JSON.stringify(product)),
                            image: product.images[0]
                        };
                    } else {
                        this.productModal.id = null;
                        this.productModal.data = { name: '', price: null, category: 'Welcome Sign', description: '', image: '', status: 'In Stock' };
                    }
                    this.productModal.open = true;
                },

                saveProduct() {
                    if (!this.productModal.data.name || !this.productModal.data.price || !this.productModal.data.image || !this.productModal.data.description) {
                        this.showToast('Please fill all required fields.', 'error');
                        return;
                    }

                    if (this.productModal.id) {
                        const index = this.products.findIndex(p => p.id === this.productModal.id);
                        if (index > -1) {
                            const existingProduct = this.products[index];
                            this.products[index] = {
                                ...existingProduct,
                                ...this.productModal.data,
                                id: this.productModal.id,
                                images: [this.productModal.data.image, ...existingProduct.images.slice(1)]
                            };
                            this.products = [...this.products];
                        }
                        this.showToast('Product updated successfully!', 'success');
                    } else {
                        const newId = this.products.length > 0 ? Math.max(...this.products.map(p => p.id)) + 1 : 1;
                        const newProduct = {
                            ...this.productModal.data,
                            id: newId,
                            images: [this.productModal.data.image],
                            options: [],
                            reviews: []
                        };
                        delete newProduct.image;
                        this.products.push(newProduct);
                        this.showToast('Product added successfully!', 'success');
                    }
                    this.productModal.open = false;
                },

                deleteProduct(productId) {
                    if (confirm('Are you sure you want to delete this product? This cannot be undone.')) {
                        this.products = this.products.filter(p => p.id !== productId);
                        this.showToast('Product deleted.', 'success');
                    }
                }

            }));
        });
    </script> -->

                <script>
                    document.addEventListener('alpine:init', () => {

                        Alpine.store('cart', {
                            items: [],
                            init() {
                                const savedCart = localStorage.getItem('artistryCart');
                                if (savedCart) {
                                    this.items = JSON.parse(savedCart);
                                }
                                Alpine.effect(() => {
                                    localStorage.setItem('artistryCart', JSON.stringify(this.items));
                                });
                            },
                            add(product, quantity = 1, options = {}) {
                                const cartId = product._id + '-' + Object.values(options).sort().join('-');
                                const existingItem = this.items.find(item => item.cartId === cartId);

                                if (existingItem) {
                                    existingItem.quantity += quantity;
                                } else {
                                    this.items.push({
                                        ...product,
                                        quantity: quantity,
                                        selectedOptions: options,
                                        cartId: cartId
                                    });
                                }
                            },
                            remove(cartId) {
                                this.items = this.items.filter(item => item.cartId !== cartId);
                            },
                            updateQuantity(cartId, change) {
                                const item = this.items.find(i => i.cartId === cartId);
                                if (item) {
                                    item.quantity += change;
                                    if (item.quantity <= 0) {
                                        this.remove(cartId);
                                    }
                                }
                            },
                            clearCart() {
                                this.items = [];
                            },
                            get total() {
                                return this.items.reduce((total, item) => total + item.price * item.quantity, 0);
                            },
                            get count() {
                                return this.items.length;
                            }
                        });

                        Alpine.store('auth', {
                            user: null,
                            token: null,
                            init() {
                                const savedUser = localStorage.getItem('artistryUser');
                                const savedToken = localStorage.getItem('artistryToken');
                                if (savedUser && savedToken) {
                                    this.user = JSON.parse(savedUser);
                                    this.token = savedToken;
                                }
                                Alpine.effect(() => {
                                    if (this.user && this.token) {
                                        localStorage.setItem('artistryUser', JSON.stringify(this.user));
                                        localStorage.setItem('artistryToken', this.token);
                                    } else {
                                        localStorage.removeItem('artistryUser');
                                        localStorage.removeItem('artistryToken');
                                    }
                                });
                            },
                            async login(email, password) {
                                const app = Alpine.store('app');
                                try {
                                    const response = await fetch('http://localhost:5001/api/auth/login', {
                                        method: 'POST',
                                        headers: { 'Content-Type': 'application/json' },
                                        body: JSON.stringify({ email, password })
                                    });
                                    const data = await response.json();
                                    if (!response.ok) throw new Error(data.message);
                                    this.user = { _id: data._id, name: data.name, email: data.email, role: data.role };
                                    this.token = data.token;
                                    app.showToast(`Welcome back, ${data.name.split(' ')[0]}!`, 'success');
                                    if (app.postLoginAction) {
                                        app.postLoginAction();
                                        app.postLoginAction = null;
                                        app.showLoginModal = false;
                                    } else {
                                        app.navigate(this.user.role === 'admin' ? 'admin' : 'account');
                                    }
                                    app.loginForm = { email: '', password: '' };
                                } catch (error) {
                                    app.showToast(error.message || 'Invalid email or password.', 'error');
                                }
                            },
                            async register(name, email, password) {
                                const app = Alpine.store('app');
                                try {
                                    const response = await fetch('http://localhost:5001/api/auth/register', {
                                        method: 'POST',
                                        headers: { 'Content-Type': 'application/json' },
                                        body: JSON.stringify({ name, email, password })
                                    });
                                    const data = await response.json();
                                    if (!response.ok) throw new Error(data.message);
                                    app.showToast('Account created successfully! Please login.', 'success');
                                    app.loginTab = 'login';
                                    app.registerForm = { name: '', email: '', password: '' };
                                } catch (error) {
                                    app.showToast(error.message || 'Email already registered.', 'error');
                                }
                            },
                            logout() {
                                this.user = null;
                                this.token = null;
                                Alpine.store('app').showToast('You have been logged out.', 'success');
                                Alpine.store('app').navigate('home');
                            }
                        });

                        Alpine.data('craftingSignApp', () => ({
                            view: 'home',
                            products: [],
                            myOrders: [],
                            allOrders: [],
                            addresses: [],
                            shippingForm: {
                                firstName: '',
                                lastName: '',
                                address: '',
                                city: '',
                                state: '',
                                zip: '',
                                country: 'India'
                            },
                            mobileMenuOpen: false,
                            cartOpen: false,
                            filterMenuOpen: false,
                            loginTab: 'login',
                            currentSlide: 0,
                            currentProduct: null,
                            mainImage: '',
                            selectedOptions: {},
                            currentCurrency: { code: 'INR', symbol: '₹' },
                            activeCategory: 'All',
                            sortBy: 'default',
                            quickViewModal: { open: false, product: null },
                            showLoginModal: false,
                            postLoginAction: null,
                            loginForm: { email: '', password: '' },
                            registerForm: { name: '', email: '', password: '' },
                            addressModal: {
                                open: false,
                                data: { firstName: '', lastName: '', address: '', city: '', state: '', zip: '', country: 'India' }
                            },
                            productModal: {
                                open: false,
                                id: null,
                                data: { name: '', price: 0, category: 'Welcome Sign', description: '', image: '', status: 'In Stock' },
                                uploading: false
                            },
                            orderModal: {
                                open: false,
                                data: null,
                                loading: false
                            },
                            toast: {
                                visible: false,
                                message: '',
                                type: 'success',
                                timeout: null
                            },
                            heroSlides: [
                                { image: 'https://picsum.photos/1920/1080?random=101&blur=1&category=wedding', title: 'Make Your Moments Memorable', subtitle: 'Custom acrylic welcome signs, seating charts, and event décor, handmade with love.', buttonText: 'Shop Collections' },
                                { image: 'https://picsum.photos/1920/1080?random=102&blur=1&category=event', title: 'Elegant Event Signage', subtitle: 'From weddings to baby showers, add a personal and elegant touch to every occasion.', buttonText: 'View All Signs' },
                                { image: 'https://picsum.photos/1920/1080?random=103&blur=1&category=party', title: 'Your Vision, Brought to Life', subtitle: 'We offer worldwide shipping and full custom designs to create exactly what you imagine.', buttonText: 'Request Custom Art' }
                            ],

                            get authHeader() {
                                return {
                                    'Content-Type': 'application/json',
                                    'Authorization': `Bearer ${Alpine.store('auth').token}`
                                }
                            },

                            get allCategories() {
                                const categories = this.products.map(p => p.category);
                                return ['All', ...new Set(categories)];
                            },

                            get filteredProducts() {
                                let products = [...this.products];
                                if (this.activeCategory !== 'All') {
                                    products = products.filter(p => p.category === this.activeCategory);
                                }
                                switch (this.sortBy) {
                                    case 'price-asc': products.sort((a, b) => a.price - b.price); break;
                                    case 'price-desc': products.sort((a, b) => b.price - a.price); break;
                                    case 'name-asc': products.sort((a, b) => a.name.localeCompare(b.name)); break;
                                    case 'name-desc': products.sort((a, b) => b.name.localeCompare(a.name)); break;
                                }
                                return products;
                            },

                            async fetchProducts() {
                                try {
                                    const response = await fetch('http://localhost:5001/api/products');
                                    if (!response.ok) throw new Error('Network response was not ok');
                                    this.products = await response.json();
                                } catch (error) {
                                    this.showToast('Error: Could not load products.', 'error');
                                }
                            },

                            // async fetchMyOrders() {
                            //     if (!this.$store.auth.user) return;
                            //     try {
                            //         const response = await fetch('http://localhost:5001/api/orders/myorders', {
                            //             headers: this.authHeader
                            //         });
                            //         if (!response.ok) throw new Error('Could not fetch orders');
                            //         this.myOrders = await response.json();
                            //     } catch (error) {
                            //         this.showToast(error.message, 'error');
                            //     }
                            // },

                            async fetchMyOrders() {
                                if (!this.$store.auth.user) return;
                                try {
                                    const response = await fetch('http://localhost:5001/api/orders/myorders', {
                                        headers: this.authHeader
                                    });

                                    if (!response.ok) {
                                        throw new Error(`Server error: ${response.status} ${response.statusText}`);
                                    }

                                    // Get response as text first
                                    const responseText = await response.text();

                                    // If the text is empty, set orders to [] and stop
                                    if (!responseText) {
                                        this.myOrders = [];
                                        return;
                                    }

                                    // Only parse if text is not empty
                                    this.myOrders = JSON.parse(responseText);

                                } catch (error) {
                                    console.error('Fetch My Orders Error:', error);
                                    this.showToast(error.message, 'error');
                                }
                            },
                            async fetchAllOrders() {
                                if (!this.$store.auth.user || this.$store.auth.user.role !== 'admin') return;
                                try {
                                    const response = await fetch('http://localhost:5001/api/orders', {
                                        headers: this.authHeader
                                    });
                                    if (!response.ok) throw new Error('Could not fetch all orders');
                                    this.allOrders = await response.json();
                                } catch (error) {
                                    this.showToast(error.message, 'error');
                                }
                            },

                            async placeOrder() {
                                try {
                                    const orderData = {
                                        orderItems: this.$store.cart.items,
                                        shippingAddress: this.shippingForm,
                                        shippingPrice: 0,
                                        totalPrice: this.$store.cart.total
                                    };

                                    const response = await fetch('http://localhost:5001/api/orders', {
                                        method: 'POST',
                                        headers: this.authHeader,
                                        body: JSON.stringify(orderData)
                                    });

                                    const createdOrder = await response.json();
                                    if (!response.ok) throw new Error(createdOrder.message || 'Failed to place order');

                                    this.showToast('Order placed successfully!', 'success');
                                    this.$store.cart.clearCart();
                                    this.navigate('home');
                                    this.shippingForm = { firstName: '', lastName: '', address: '', city: '', state: '', zip: '', country: 'India' };

                                } catch (error) {
                                    this.showToast(error.message, 'error');
                                }
                            },

                            async updateOrderStatus(orderId, newStatus) {
                                try {
                                    const response = await fetch(`http://localhost:5001/api/orders/${orderId}/status`, {
                                        method: 'PUT',
                                        headers: this.authHeader,
                                        body: JSON.stringify({ status: newStatus })
                                    });

                                    const updatedOrder = await response.json();
                                    if (!response.ok) throw new Error(updatedOrder.message || 'Failed to update status');

                                    const index = this.allOrders.findIndex(o => o._id === orderId);
                                    if (index > -1) this.allOrders[index] = updatedOrder;

                                    this.showToast('Order status updated!', 'success');
                                } catch (error) {
                                    this.showToast(error.message, 'error');
                                }
                            },

                            // ...
                            // async fetchAddresses() {
                            //     if (!this.$store.auth.user) return;
                            //     try {
                            //         const response = await fetch('http://localhost:5001/api/users/addresses', {
                            //             headers: this.authHeader
                            //         });
                            //         if (!response.ok) throw new Error('Could not fetch addresses');
                            //         this.addresses = await response.json();
                            //     } catch (error) {
                            //         this.showToast(error.message, 'error');
                            //     }
                            // },

                            async fetchAddresses() {
                                if (!this.$store.auth.user) return;
                                try {
                                    const response = await fetch('http://localhost:5001/api/users/addresses', {
                                        headers: this.authHeader
                                    });

                                    if (!response.ok) {
                                        throw new Error(`Server error: ${response.status} ${response.statusText}`);
                                    }

                                    const responseText = await response.text();
                                    if (!responseText) {
                                        this.addresses = []; // Set to empty array if response is empty
                                        return;
                                    }

                                    const data = JSON.parse(responseText);

                                    // **THE KEY FIX**:
                                    // We must ensure the data is an array.
                                    // If the server sends back `null`, `JSON.parse` will create `null`.
                                    // `Array.isArray(null)` is false, so it will correctly fall to the `else` block.
                                    if (Array.isArray(data)) {
                                        this.addresses = data;
                                    } else {
                                        this.addresses = []; // Default to empty array if response is not an array
                                    }

                                } catch (error) {
                                    console.error('Fetch Addresses Error:', error);
                                    this.showToast(error.message, 'error');
                                    this.addresses = []; // Also default to empty array on a crash
                                }
                            },
                            openAddressModal() {
                                // Reset form
                                this.addressModal.data = { firstName: '', lastName: '', address: '', city: '', state: '', zip: '', country: 'India' };
                                this.addressModal.open = true;
                            },

                            // async saveAddress() {

                            //     const d = this.addressModal.data;
                            //     if (!d.firstName || !d.lastName || !d.address || !d.city || !d.state || !d.zip || !d.country) {
                            //         this.showToast('Please fill out all address fields.', 'error');
                            //         return;
                            //     }
                            //     try {

                            //         const response = await fetch('http://localhost:5001/api/users/addresses', {
                            //             method: 'POST',
                            //             headers: this.authHeader,
                            //             body: JSON.stringify(this.addressModal.data)
                            //         });
                            //         const data = await response.json();
                            //         if (!response.ok) throw new Error(data.message || 'Failed to save address');

                            //         this.addresses = data; // API returns the full updated list
                            //         this.showToast('Address saved!', 'success');
                            //         this.addressModal.open = false;
                            //     } catch (error) {
                            //         this.showToast(error.message, 'error');
                            //     }
                            // },

                            async saveAddress() {
                                const d = this.addressModal.data;
                                if (!d.firstName || !d.lastName || !d.address || !d.city || !d.state || !d.zip || !d.country) {
                                    this.showToast('Please fill out all address fields.', 'error');
                                    return;
                                }
                                try {
                                    const response = await fetch('http://localhost:5001/api/users/addresses', {
                                        method: 'POST',
                                        headers: this.authHeader,
                                        body: JSON.stringify(this.addressModal.data)
                                    });

                                    if (!response.ok) {
                                        // Try to parse an error message from the body, if any
                                        const responseText = await response.text();
                                        let errorMessage = 'Failed to save address';
                                        if (responseText) {
                                            try { errorMessage = JSON.parse(responseText).message; } catch (e) { /* ignore parse error */ }
                                        }
                                        throw new Error(errorMessage);
                                    }

                                    // **THE NEW LOGIC**:
                                    // On success, don't parse the response. Just re-fetch the
                                    // full list using our safe function.
                                    await this.fetchAddresses();

                                    this.showToast('Address saved!', 'success');
                                    this.addressModal.open = false;

                                } catch (error) {
                                    this.showToast(error.message, 'error');
                                }
                            },
                            // async deleteAddress(addressId) {
                            //     if (!confirm('Are you sure you want to delete this address?')) return;
                            //     try {
                            //         const response = await fetch(`http://localhost:5001/api/users/addresses/${addressId}`, {
                            //             method: 'DELETE',
                            //             headers: this.authHeader
                            //         });
                            //         const data = await response.json();
                            //         if (!response.ok) throw new Error(data.message || 'Failed to delete');

                            //         this.addresses = data; // API returns the updated list
                            //         this.showToast('Address deleted.', 'success');
                            //     } catch (error) {
                            //         this.showToast(error.message, 'error');
                            //     }
                            // },

                            async deleteAddress(addressId) {
                                if (!confirm('Are you sure you want to delete this address?')) return;
                                try {
                                    const response = await fetch(`http://localhost:5001/api/users/addresses/${addressId}`, {
                                        method: 'DELETE',
                                        headers: this.authHeader
                                    });

                                    if (!response.ok) {
                                        // Try to parse an error message
                                        const responseText = await response.text();
                                        let errorMessage = 'Failed to delete address';
                                        if (responseText) {
                                            try { errorMessage = JSON.parse(responseText).message; } catch (e) { /* ignore parse error */ }
                                        }
                                        throw new Error(errorMessage);
                                    }

                                    // **THE NEW LOGIC**:
                                    // On success, re-fetch the full list.
                                    await this.fetchAddresses();

                                    this.showToast('Address deleted.', 'success');
                                } catch (error) {
                                    this.showToast(error.message, 'error');
                                }
                            },

                            async handleImageUpload(event) {
                                const file = event.target.files[0];
                                if (!file) return;

                                if (file.size > 5 * 1024 * 1024) { // 5MB limit
                                    this.showToast('File is too large. Max 5MB.', 'error');
                                    event.target.value = null; // Clear the input
                                    return;
                                }

                                const formData = new FormData();
                                formData.append('image', file);
                                this.productModal.uploading = true;

                                try {
                                    const response = await fetch('http://localhost:5001/api/upload', {
                                        method: 'POST',
                                        headers: {
                                            'Authorization': `Bearer ${Alpine.store('auth').token}`
                                            // Do NOT set 'Content-Type', browser does it for FormData
                                        },
                                        body: formData
                                    });

                                    const data = await response.json();

                                    if (!response.ok) {
                                        throw new Error(data.message || 'Upload failed');
                                    }

                                    this.productModal.data.image = data.secure_url;
                                    this.showToast('Image uploaded successfully!', 'success');

                                } catch (error) {
                                    this.showToast(error.message, 'error');
                                    event.target.value = null; // Clear the input on error
                                } finally {
                                    this.productModal.uploading = false;
                                }
                            },

                            async init() {
                                Alpine.store('app', this);
                                Alpine.store('cart').init();
                                Alpine.store('auth').init();
                                await this.fetchProducts();
                                AOS.init({ duration: 800, once: true });
                                setInterval(() => {
                                    this.currentSlide = (this.currentSlide + 1) % this.heroSlides.length;
                                }, 6000);
                            },

                            initSwiper() {
                                new Swiper('.featured-gallery', {
                                    loop: true, slidesPerView: 2, spaceBetween: 16,
                                    pagination: { el: '.swiper-pagination', clickable: true },
                                    navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },
                                    breakpoints: {
                                        640: { slidesPerView: 2, spaceBetween: 20 },
                                        768: { slidesPerView: 3, spaceBetween: 24 },
                                        1024: { slidesPerView: 4, spaceBetween: 24 },
                                    },
                                });
                            },
                            showToast(message, type = 'success', duration = 3000) {
                                clearTimeout(this.toast.timeout);
                                this.toast.message = message;
                                this.toast.type = type;
                                this.toast.visible = true;
                                this.toast.timeout = setTimeout(() => this.toast.visible = false, duration);
                            },

                            navigate(newView) {
                                this.view = newView;
                                window.scrollTo({ top: 0, behavior: 'smooth' });
                                this.mobileMenuOpen = false;

                                if (newView === 'account') {
                                    this.fetchMyOrders();
                                    this.fetchAddresses();
                                }
                                if (newView === 'admin') this.fetchAllOrders();
                            },

                            scrollTo(elementId) {
                                if (['about', 'products', 'gallery', 'contact'].includes(elementId) && this.view !== 'home') {
                                    this.navigate('home');
                                    this.$nextTick(() => {
                                        document.getElementById(elementId)?.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                    });
                                } else {
                                    document.getElementById(elementId)?.scrollIntoView({ behavior: 'smooth', block: 'start' });
                                }
                                this.mobileMenuOpen = false;
                            },

                            loginGate(actionCallback) {
                                if (this.$store.auth.user) {
                                    actionCallback();
                                } else {
                                    this.postLoginAction = actionCallback;
                                    this.showLoginModal = true;
                                }
                            },

                            openQuickViewModal(product) {
                                this.quickViewModal.product = product;
                                this.quickViewModal.open = true;
                            },

                            formatCurrency(amount) {
                                const options = { style: 'currency', currency: this.currentCurrency.code, minimumFractionDigits: 2 };
                                let locale = 'en-IN';
                                if (this.currentCurrency.code === 'USD') locale = 'en-US';
                                if (this.currentCurrency.code === 'EUR') locale = 'de-DE';
                                if (this.currentCurrency.code === 'CAD') locale = 'en-CA';
                                return new Intl.NumberFormat(locale, options).format(amount);
                            },

                            formatDate(dateString) {
                                return new Date(dateString).toLocaleDateString('en-US', {
                                    year: 'numeric', month: 'long', day: 'numeric'
                                });
                            },

                            viewProduct(product) {
                                this.currentProduct = { ...product, quantity: product.quantity || 1 };
                                this.mainImage = this.currentProduct.images[0];
                                this.selectedOptions = {};
                                if (this.currentProduct.options) {
                                    this.currentProduct.options.forEach(opt => {
                                        this.selectedOptions[opt.name] = opt.values[0];
                                    });
                                }
                                this.navigate('product');
                            },

                            openProductModal(product = null) {
                                if (product) {
                                    this.productModal.id = product._id;
                                    this.productModal.data = { ...JSON.parse(JSON.stringify(product)), image: product.images[0] };
                                } else {
                                    this.productModal.id = null;
                                    this.productModal.data = { name: '', price: null, category: 'Welcome Sign', description: '', image: '', status: 'In Stock' };
                                }
                                this.productModal.uploading = false;
                                this.productModal.open = true;
                            },

                            async saveProduct() {
                                try {
                                    const { token } = Alpine.store('auth');
                                    const method = this.productModal.id ? 'PUT' : 'POST';
                                    const url = this.productModal.id ? `http://localhost:5001/api/products/${this.productModal.id}` : 'http://localhost:5001/api/products';

                                    const response = await fetch(url, {
                                        method: method,
                                        headers: this.authHeader,
                                        body: JSON.stringify(this.productModal.data)
                                    });
                                    const updatedOrNewProduct = await response.json();
                                    if (!response.ok) throw new Error(updatedOrNewProduct.message);

                                    if (this.productModal.id) {
                                        const index = this.products.findIndex(p => p._id === this.productModal.id);
                                        if (index > -1) this.products[index] = updatedOrNewProduct;
                                    } else {
                                        this.products.push(updatedOrNewProduct);
                                    }
                                    this.products = [...this.products];
                                    this.showToast(`Product ${this.productModal.id ? 'updated' : 'added'}!`, 'success');
                                    this.productModal.open = false;
                                } catch (error) {
                                    this.showToast(error.message, 'error');
                                }
                            },

                            async deleteProduct(productId) {
                                if (confirm('Are you sure you want to delete this product?')) {
                                    try {
                                        const { token } = Alpine.store('auth');
                                        const response = await fetch(`http://localhost:5001/api/products/${productId}`, {
                                            method: 'DELETE',
                                            headers: this.authHeader
                                        });
                                        const data = await response.json();
                                        if (!response.ok) throw new Error(data.message);
                                        this.products = this.products.filter(p => p._id !== productId);
                                        this.showToast('Product deleted.', 'success');
                                    } catch (error) {
                                        this.showToast(error.message, 'error');
                                    }
                                }
                            },

                            // ... (after deleteProduct function)

                            async openOrderModal(orderId) {
                                this.orderModal.loading = true;
                                this.orderModal.open = true;
                                this.orderModal.data = null; // Clear old data

                                try {
                                    const response = await fetch(`http://localhost:5001/api/orders/${orderId}`, {
                                        headers: this.authHeader
                                    });

                                    const data = await response.json();
                                    if (!response.ok) throw new Error(data.message || 'Failed to fetch order');

                                    this.orderModal.data = data;

                                } catch (error) {
                                    this.showToast(error.message, 'error');
                                    this.orderModal.open = false;
                                } finally {
                                    this.orderModal.loading = false;
                                }
                            },


                        }));
                    });
                </script>
    </body>

</html>